var ea=Object.create;var Ft=Object.defineProperty;var ta=Object.getOwnPropertyDescriptor;var ra=Object.getOwnPropertyNames;var na=Object.getPrototypeOf,ia=Object.prototype.hasOwnProperty;var b=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),sa=(n,e)=>{for(var t in e)Ft(n,t,{get:e[t],enumerable:!0})},Jn=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of ra(e))!ia.call(n,i)&&i!==t&&Ft(n,i,{get:()=>e[i],enumerable:!(r=ta(e,i))||r.enumerable});return n};var j=(n,e,t)=>(t=n!=null?ea(na(n)):{},Jn(e||!n||!n.__esModule?Ft(t,"default",{value:n,enumerable:!0}):t,n)),oa=n=>Jn(Ft({},"__esModule",{value:!0}),n);var ei=b(z=>{"use strict";Object.defineProperty(z,"commentRegex",{get:function(){return/^\s*?\/[\/\*][@#]\s+?sourceMappingURL=data:(((?:application|text)\/json)(?:;charset=([^;,]+?)?)?)?(?:;(base64))?,(.*?)$/mg}});Object.defineProperty(z,"mapFileCommentRegex",{get:function(){return/(?:\/\/[@#][ \t]+?sourceMappingURL=([^\s'"`]+?)[ \t]*?$)|(?:\/\*[@#][ \t]+sourceMappingURL=([^*]+?)[ \t]*?(?:\*\/){1}[ \t]*?$)/mg}});var Ut;typeof Buffer<"u"?typeof Buffer.from=="function"?Ut=la:Ut=aa:Ut=fa;function la(n){return Buffer.from(n,"base64").toString()}function aa(n){if(typeof value=="number")throw new TypeError("The value to decode must not be of type number.");return new Buffer(n,"base64").toString()}function fa(n){return decodeURIComponent(escape(atob(n)))}function ua(n){return n.split(",").pop()}function ca(n,e){var t=z.mapFileCommentRegex.exec(n),r=t[1]||t[2];try{var n=e(r);return n!=null&&typeof n.catch=="function"?n.catch(i):n}catch(s){i(s)}function i(s){throw new Error("An error occurred while trying to read the map file at "+r+`
`+s.stack)}}function Y(n,e){e=e||{},e.hasComment&&(n=ua(n)),e.encoding==="base64"?n=Ut(n):e.encoding==="uri"&&(n=decodeURIComponent(n)),(e.isJSON||e.encoding)&&(n=JSON.parse(n)),this.sourcemap=n}Y.prototype.toJSON=function(n){return JSON.stringify(this.sourcemap,null,n)};typeof Buffer<"u"?typeof Buffer.from=="function"?Y.prototype.toBase64=ha:Y.prototype.toBase64=da:Y.prototype.toBase64=pa;function ha(){var n=this.toJSON();return Buffer.from(n,"utf8").toString("base64")}function da(){var n=this.toJSON();if(typeof n=="number")throw new TypeError("The json to encode must not be of type number.");return new Buffer(n,"utf8").toString("base64")}function pa(){var n=this.toJSON();return btoa(unescape(encodeURIComponent(n)))}Y.prototype.toURI=function(){var n=this.toJSON();return encodeURIComponent(n)};Y.prototype.toComment=function(n){var e,t,r;return n!=null&&n.encoding==="uri"?(e="",t=this.toURI()):(e=";base64",t=this.toBase64()),r="sourceMappingURL=data:application/json;charset=utf-8"+e+","+t,n!=null&&n.multiline?"/*# "+r+" */":"//# "+r};Y.prototype.toObject=function(){return JSON.parse(this.toJSON())};Y.prototype.addProperty=function(n,e){if(this.sourcemap.hasOwnProperty(n))throw new Error('property "'+n+'" already exists on the sourcemap, use set property instead');return this.setProperty(n,e)};Y.prototype.setProperty=function(n,e){return this.sourcemap[n]=e,this};Y.prototype.getProperty=function(n){return this.sourcemap[n]};z.fromObject=function(n){return new Y(n)};z.fromJSON=function(n){return new Y(n,{isJSON:!0})};z.fromURI=function(n){return new Y(n,{encoding:"uri"})};z.fromBase64=function(n){return new Y(n,{encoding:"base64"})};z.fromComment=function(n){var e,t;return n=n.replace(/^\/\*/g,"//").replace(/\*\/$/g,""),e=z.commentRegex.exec(n),t=e&&e[4]||"uri",new Y(n,{encoding:t,hasComment:!0})};function Qn(n){return new Y(n,{isJSON:!0})}z.fromMapFileComment=function(n,e){if(typeof e=="string")throw new Error("String directory paths are no longer supported with `fromMapFileComment`\nPlease review the Upgrading documentation at https://github.com/thlorenz/convert-source-map#upgrading");var t=ca(n,e);return t!=null&&typeof t.then=="function"?t.then(Qn):Qn(t)};z.fromSource=function(n){var e=n.match(z.commentRegex);return e?z.fromComment(e.pop()):null};z.fromMapFileSource=function(n,e){if(typeof e=="string")throw new Error("String directory paths are no longer supported with `fromMapFileSource`\nPlease review the Upgrading documentation at https://github.com/thlorenz/convert-source-map#upgrading");var t=n.match(z.mapFileCommentRegex);return t?z.fromMapFileComment(t.pop(),e):null};z.removeComments=function(n){return n.replace(z.commentRegex,"")};z.removeMapFileComments=function(n){return n.replace(z.mapFileCommentRegex,"")};z.generateMapFileComment=function(n,e){var t="sourceMappingURL="+n;return e&&e.multiline?"/*# "+t+" */":"//# "+t}});var Cr=b((_h,xr)=>{var Bt=process||{},si=Bt.argv||[],kt=Bt.env||{},Ea=!(kt.NO_COLOR||si.includes("--no-color"))&&(!!kt.FORCE_COLOR||si.includes("--color")||Bt.platform==="win32"||(Bt.stdout||{}).isTTY&&kt.TERM!=="dumb"||!!kt.CI),wa=(n,e,t=n)=>r=>{let i=""+r,s=i.indexOf(e,n.length);return~s?n+ya(i,e,t,s)+e:n+i+e},ya=(n,e,t,r)=>{let i="",s=0;do i+=n.substring(s,r)+t,s=r+e.length,r=n.indexOf(e,s);while(~r);return i+n.substring(s)},oi=(n=Ea)=>{let e=n?wa:()=>String;return{isColorSupported:n,reset:e("\x1B[0m","\x1B[0m"),bold:e("\x1B[1m","\x1B[22m","\x1B[22m\x1B[1m"),dim:e("\x1B[2m","\x1B[22m","\x1B[22m\x1B[2m"),italic:e("\x1B[3m","\x1B[23m"),underline:e("\x1B[4m","\x1B[24m"),inverse:e("\x1B[7m","\x1B[27m"),hidden:e("\x1B[8m","\x1B[28m"),strikethrough:e("\x1B[9m","\x1B[29m"),black:e("\x1B[30m","\x1B[39m"),red:e("\x1B[31m","\x1B[39m"),green:e("\x1B[32m","\x1B[39m"),yellow:e("\x1B[33m","\x1B[39m"),blue:e("\x1B[34m","\x1B[39m"),magenta:e("\x1B[35m","\x1B[39m"),cyan:e("\x1B[36m","\x1B[39m"),white:e("\x1B[37m","\x1B[39m"),gray:e("\x1B[90m","\x1B[39m"),bgBlack:e("\x1B[40m","\x1B[49m"),bgRed:e("\x1B[41m","\x1B[49m"),bgGreen:e("\x1B[42m","\x1B[49m"),bgYellow:e("\x1B[43m","\x1B[49m"),bgBlue:e("\x1B[44m","\x1B[49m"),bgMagenta:e("\x1B[45m","\x1B[49m"),bgCyan:e("\x1B[46m","\x1B[49m"),bgWhite:e("\x1B[47m","\x1B[49m"),blackBright:e("\x1B[90m","\x1B[39m"),redBright:e("\x1B[91m","\x1B[39m"),greenBright:e("\x1B[92m","\x1B[39m"),yellowBright:e("\x1B[93m","\x1B[39m"),blueBright:e("\x1B[94m","\x1B[39m"),magentaBright:e("\x1B[95m","\x1B[39m"),cyanBright:e("\x1B[96m","\x1B[39m"),whiteBright:e("\x1B[97m","\x1B[39m"),bgBlackBright:e("\x1B[100m","\x1B[49m"),bgRedBright:e("\x1B[101m","\x1B[49m"),bgGreenBright:e("\x1B[102m","\x1B[49m"),bgYellowBright:e("\x1B[103m","\x1B[49m"),bgBlueBright:e("\x1B[104m","\x1B[49m"),bgMagentaBright:e("\x1B[105m","\x1B[49m"),bgCyanBright:e("\x1B[106m","\x1B[49m"),bgWhiteBright:e("\x1B[107m","\x1B[49m")}};xr.exports=oi();xr.exports.createColors=oi});var br=b((Eh,ai)=>{"use strict";var zt=/[\t\n\f\r "#'()/;[\\\]{}]/g,Gt=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,Sa=/.[\r\n"'(/\\]/,li=/[\da-f]/i;ai.exports=function(e,t={}){let r=e.css.valueOf(),i=t.ignoreErrors,s,o,a,l,f,u,h,c,d,m,p=r.length,_=0,v=[],C=[];function I(){return _}function L(P){throw e.error("Unclosed "+P,_)}function R(){return C.length===0&&_>=p}function O(P){if(C.length)return C.pop();if(_>=p)return;let A=P?P.ignoreUnclosed:!1;switch(s=r.charCodeAt(_),s){case 10:case 32:case 9:case 13:case 12:{l=_;do l+=1,s=r.charCodeAt(l);while(s===32||s===10||s===9||s===13||s===12);u=["space",r.slice(_,l)],_=l-1;break}case 91:case 93:case 123:case 125:case 58:case 59:case 41:{let G=String.fromCharCode(s);u=[G,G,_];break}case 40:{if(m=v.length?v.pop()[1]:"",d=r.charCodeAt(_+1),m==="url"&&d!==39&&d!==34&&d!==32&&d!==10&&d!==9&&d!==12&&d!==13){l=_;do{if(h=!1,l=r.indexOf(")",l+1),l===-1)if(i||A){l=_;break}else L("bracket");for(c=l;r.charCodeAt(c-1)===92;)c-=1,h=!h}while(h);u=["brackets",r.slice(_,l+1),_,l],_=l}else l=r.indexOf(")",_+1),o=r.slice(_,l+1),l===-1||Sa.test(o)?u=["(","(",_]:(u=["brackets",o,_,l],_=l);break}case 39:case 34:{f=s===39?"'":'"',l=_;do{if(h=!1,l=r.indexOf(f,l+1),l===-1)if(i||A){l=_+1;break}else L("string");for(c=l;r.charCodeAt(c-1)===92;)c-=1,h=!h}while(h);u=["string",r.slice(_,l+1),_,l],_=l;break}case 64:{zt.lastIndex=_+1,zt.test(r),zt.lastIndex===0?l=r.length-1:l=zt.lastIndex-2,u=["at-word",r.slice(_,l+1),_,l],_=l;break}case 92:{for(l=_,a=!0;r.charCodeAt(l+1)===92;)l+=1,a=!a;if(s=r.charCodeAt(l+1),a&&s!==47&&s!==32&&s!==10&&s!==9&&s!==13&&s!==12&&(l+=1,li.test(r.charAt(l)))){for(;li.test(r.charAt(l+1));)l+=1;r.charCodeAt(l+1)===32&&(l+=1)}u=["word",r.slice(_,l+1),_,l],_=l;break}default:{s===47&&r.charCodeAt(_+1)===42?(l=r.indexOf("*/",_+2)+1,l===0&&(i||A?l=r.length:L("comment")),u=["comment",r.slice(_,l+1),_,l],_=l):(Gt.lastIndex=_+1,Gt.test(r),Gt.lastIndex===0?l=r.length-1:l=Gt.lastIndex-2,u=["word",r.slice(_,l+1),_,l],v.push(u),_=l);break}}return _++,u}function k(P){C.push(P)}return{back:k,endOfFile:R,nextToken:O,position:I}}});var Lr=b((wh,ci)=>{"use strict";var K=Cr(),va=br(),fi;function xa(n){fi=n}var Ca={";":K.yellow,":":K.yellow,"(":K.cyan,")":K.cyan,"[":K.yellow,"]":K.yellow,"{":K.yellow,"}":K.yellow,"at-word":K.cyan,brackets:K.cyan,call:K.cyan,class:K.yellow,comment:K.gray,hash:K.magenta,string:K.green};function ba([n,e],t){if(n==="word"){if(e[0]===".")return"class";if(e[0]==="#")return"hash"}if(!t.endOfFile()){let r=t.nextToken();if(t.back(r),r[0]==="brackets"||r[0]==="(")return"call"}return n}function ui(n){let e=va(new fi(n),{ignoreErrors:!0}),t="";for(;!e.endOfFile();){let r=e.nextToken(),i=Ca[ba(r,e)];i?t+=r[1].split(/\r?\n/).map(s=>i(s)).join(`
`):t+=r[1]}return t}ui.registerInput=xa;ci.exports=ui});var Or=b((yh,pi)=>{"use strict";var hi=Cr(),di=Lr(),ot=class n extends Error{constructor(e,t,r,i,s,o){super(e),this.name="CssSyntaxError",this.reason=e,s&&(this.file=s),i&&(this.source=i),o&&(this.plugin=o),typeof t<"u"&&typeof r<"u"&&(typeof t=="number"?(this.line=t,this.column=r):(this.line=t.line,this.column=t.column,this.endLine=r.line,this.endColumn=r.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,n)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line<"u"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(e){if(!this.source)return"";let t=this.source;e==null&&(e=hi.isColorSupported);let r=u=>u,i=u=>u,s=u=>u;if(e){let{bold:u,gray:h,red:c}=hi.createColors(!0);i=d=>u(c(d)),r=d=>h(d),di&&(s=d=>di(d))}let o=t.split(/\r?\n/),a=Math.max(this.line-3,0),l=Math.min(this.line+2,o.length),f=String(l).length;return o.slice(a,l).map((u,h)=>{let c=a+1+h,d=" "+(" "+c).slice(-f)+" | ";if(c===this.line){if(u.length>160){let p=20,_=Math.max(0,this.column-p),v=Math.max(this.column+p,this.endColumn+p),C=u.slice(_,v),I=r(d.replace(/\d/g," "))+u.slice(0,Math.min(this.column-1,p-1)).replace(/[^\t]/g," ");return i(">")+r(d)+s(C)+`
 `+I+i("^")}let m=r(d.replace(/\d/g," "))+u.slice(0,this.column-1).replace(/[^\t]/g," ");return i(">")+r(d)+s(u)+`
 `+m+i("^")}return" "+r(d)+s(u)}).join(`
`)}toString(){let e=this.showSourceCode();return e&&(e=`

`+e+`
`),this.name+": "+this.message+e}};pi.exports=ot;ot.default=ot});var Ir=b((Sh,gi)=>{"use strict";var mi={after:`
`,beforeClose:`
`,beforeComment:`
`,beforeDecl:`
`,beforeOpen:" ",beforeRule:`
`,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};function La(n){return n[0].toUpperCase()+n.slice(1)}var lt=class{constructor(e){this.builder=e}atrule(e,t){let r="@"+e.name,i=e.params?this.rawValue(e,"params"):"";if(typeof e.raws.afterName<"u"?r+=e.raws.afterName:i&&(r+=" "),e.nodes)this.block(e,r+i);else{let s=(e.raws.between||"")+(t?";":"");this.builder(r+i+s,e)}}beforeAfter(e,t){let r;e.type==="decl"?r=this.raw(e,null,"beforeDecl"):e.type==="comment"?r=this.raw(e,null,"beforeComment"):t==="before"?r=this.raw(e,null,"beforeRule"):r=this.raw(e,null,"beforeClose");let i=e.parent,s=0;for(;i&&i.type!=="root";)s+=1,i=i.parent;if(r.includes(`
`)){let o=this.raw(e,null,"indent");if(o.length)for(let a=0;a<s;a++)r+=o}return r}block(e,t){let r=this.raw(e,"between","beforeOpen");this.builder(t+r+"{",e,"start");let i;e.nodes&&e.nodes.length?(this.body(e),i=this.raw(e,"after")):i=this.raw(e,"after","emptyBody"),i&&this.builder(i),this.builder("}",e,"end")}body(e){let t=e.nodes.length-1;for(;t>0&&e.nodes[t].type==="comment";)t-=1;let r=this.raw(e,"semicolon");for(let i=0;i<e.nodes.length;i++){let s=e.nodes[i],o=this.raw(s,"before");o&&this.builder(o),this.stringify(s,t!==i||r)}}comment(e){let t=this.raw(e,"left","commentLeft"),r=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+r+"*/",e)}decl(e,t){let r=this.raw(e,"between","colon"),i=e.prop+r+this.rawValue(e,"value");e.important&&(i+=e.raws.important||" !important"),t&&(i+=";"),this.builder(i,e)}document(e){this.body(e)}raw(e,t,r){let i;if(r||(r=t),t&&(i=e.raws[t],typeof i<"u"))return i;let s=e.parent;if(r==="before"&&(!s||s.type==="root"&&s.first===e||s&&s.type==="document"))return"";if(!s)return mi[r];let o=e.root();if(o.rawCache||(o.rawCache={}),typeof o.rawCache[r]<"u")return o.rawCache[r];if(r==="before"||r==="after")return this.beforeAfter(e,r);{let a="raw"+La(r);this[a]?i=this[a](o,e):o.walk(l=>{if(i=l.raws[t],typeof i<"u")return!1})}return typeof i>"u"&&(i=mi[r]),o.rawCache[r]=i,i}rawBeforeClose(e){let t;return e.walk(r=>{if(r.nodes&&r.nodes.length>0&&typeof r.raws.after<"u")return t=r.raws.after,t.includes(`
`)&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}rawBeforeComment(e,t){let r;return e.walkComments(i=>{if(typeof i.raws.before<"u")return r=i.raws.before,r.includes(`
`)&&(r=r.replace(/[^\n]+$/,"")),!1}),typeof r>"u"?r=this.raw(t,null,"beforeDecl"):r&&(r=r.replace(/\S/g,"")),r}rawBeforeDecl(e,t){let r;return e.walkDecls(i=>{if(typeof i.raws.before<"u")return r=i.raws.before,r.includes(`
`)&&(r=r.replace(/[^\n]+$/,"")),!1}),typeof r>"u"?r=this.raw(t,null,"beforeRule"):r&&(r=r.replace(/\S/g,"")),r}rawBeforeOpen(e){let t;return e.walk(r=>{if(r.type!=="decl"&&(t=r.raws.between,typeof t<"u"))return!1}),t}rawBeforeRule(e){let t;return e.walk(r=>{if(r.nodes&&(r.parent!==e||e.first!==r)&&typeof r.raws.before<"u")return t=r.raws.before,t.includes(`
`)&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}rawColon(e){let t;return e.walkDecls(r=>{if(typeof r.raws.between<"u")return t=r.raws.between.replace(/[^\s:]/g,""),!1}),t}rawEmptyBody(e){let t;return e.walk(r=>{if(r.nodes&&r.nodes.length===0&&(t=r.raws.after,typeof t<"u"))return!1}),t}rawIndent(e){if(e.raws.indent)return e.raws.indent;let t;return e.walk(r=>{let i=r.parent;if(i&&i!==e&&i.parent&&i.parent===e&&typeof r.raws.before<"u"){let s=r.raws.before.split(`
`);return t=s[s.length-1],t=t.replace(/\S/g,""),!1}}),t}rawSemicolon(e){let t;return e.walk(r=>{if(r.nodes&&r.nodes.length&&r.last.type==="decl"&&(t=r.raws.semicolon,typeof t<"u"))return!1}),t}rawValue(e,t){let r=e[t],i=e.raws[t];return i&&i.value===r?i.raw:r}root(e){this.body(e),e.raws.after&&this.builder(e.raws.after)}rule(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}stringify(e,t){if(!this[e.type])throw new Error("Unknown AST node type "+e.type+". Maybe you need to change PostCSS stringifier.");this[e.type](e,t)}};gi.exports=lt;lt.default=lt});var Ei=b((vh,_i)=>{"use strict";var Oa=Ir();function Nr(n,e){new Oa(e).stringify(n)}_i.exports=Nr;Nr.default=Nr});var Rr=b((xh,Tr)=>{"use strict";Tr.exports.isClean=Symbol("isClean");Tr.exports.my=Symbol("my")});var Wt=b((Ch,wi)=>{"use strict";var Ia=Or(),Na=Ir(),Ta=Ei(),{isClean:at,my:Ra}=Rr();function Ar(n,e){let t=new n.constructor;for(let r in n){if(!Object.prototype.hasOwnProperty.call(n,r)||r==="proxyCache")continue;let i=n[r],s=typeof i;r==="parent"&&s==="object"?e&&(t[r]=e):r==="source"?t[r]=i:Array.isArray(i)?t[r]=i.map(o=>Ar(o,t)):(s==="object"&&i!==null&&(i=Ar(i)),t[r]=i)}return t}function ft(n,e){if(e&&typeof e.offset<"u")return e.offset;let t=1,r=1,i=0;for(let s=0;s<n.length;s++){if(r===e.line&&t===e.column){i=s;break}n[s]===`
`?(t=1,r+=1):t+=1}return i}var ut=class{constructor(e={}){this.raws={},this[at]=!1,this[Ra]=!0;for(let t in e)if(t==="nodes"){this.nodes=[];for(let r of e[t])typeof r.clone=="function"?this.append(r.clone()):this.append(r)}else this[t]=e[t]}addToError(e){if(e.postcssNode=this,e.stack&&this.source&&/\n\s{4}at /.test(e.stack)){let t=this.source;e.stack=e.stack.replace(/\n\s{4}at /,`$&${t.input.from}:${t.start.line}:${t.start.column}$&`)}return e}after(e){return this.parent.insertAfter(this,e),this}assign(e={}){for(let t in e)this[t]=e[t];return this}before(e){return this.parent.insertBefore(this,e),this}cleanRaws(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between}clone(e={}){let t=Ar(this);for(let r in e)t[r]=e[r];return t}cloneAfter(e={}){let t=this.clone(e);return this.parent.insertAfter(this,t),t}cloneBefore(e={}){let t=this.clone(e);return this.parent.insertBefore(this,t),t}error(e,t={}){if(this.source){let{end:r,start:i}=this.rangeBy(t);return this.source.input.error(e,{column:i.column,line:i.line},{column:r.column,line:r.line},t)}return new Ia(e)}getProxyProcessor(){return{get(e,t){return t==="proxyOf"?e:t==="root"?()=>e.root().toProxy():e[t]},set(e,t,r){return e[t]===r||(e[t]=r,(t==="prop"||t==="value"||t==="name"||t==="params"||t==="important"||t==="text")&&e.markDirty()),!0}}}markClean(){this[at]=!0}markDirty(){if(this[at]){this[at]=!1;let e=this;for(;e=e.parent;)e[at]=!1}}next(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e+1]}positionBy(e){let t=this.source.start;if(e.index)t=this.positionInside(e.index);else if(e.word){let i=this.source.input.css.slice(ft(this.source.input.css,this.source.start),ft(this.source.input.css,this.source.end)).indexOf(e.word);i!==-1&&(t=this.positionInside(i))}return t}positionInside(e){let t=this.source.start.column,r=this.source.start.line,i=ft(this.source.input.css,this.source.start),s=i+e;for(let o=i;o<s;o++)this.source.input.css[o]===`
`?(t=1,r+=1):t+=1;return{column:t,line:r}}prev(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e-1]}rangeBy(e){let t={column:this.source.start.column,line:this.source.start.line},r=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:t.column+1,line:t.line};if(e.word){let s=this.source.input.css.slice(ft(this.source.input.css,this.source.start),ft(this.source.input.css,this.source.end)).indexOf(e.word);s!==-1&&(t=this.positionInside(s),r=this.positionInside(s+e.word.length))}else e.start?t={column:e.start.column,line:e.start.line}:e.index&&(t=this.positionInside(e.index)),e.end?r={column:e.end.column,line:e.end.line}:typeof e.endIndex=="number"?r=this.positionInside(e.endIndex):e.index&&(r=this.positionInside(e.index+1));return(r.line<t.line||r.line===t.line&&r.column<=t.column)&&(r={column:t.column+1,line:t.line}),{end:r,start:t}}raw(e,t){return new Na().raw(this,e,t)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...e){if(this.parent){let t=this,r=!1;for(let i of e)i===this?r=!0:r?(this.parent.insertAfter(t,i),t=i):this.parent.insertBefore(t,i);r||this.remove()}return this}root(){let e=this;for(;e.parent&&e.parent.type!=="document";)e=e.parent;return e}toJSON(e,t){let r={},i=t==null;t=t||new Map;let s=0;for(let o in this){if(!Object.prototype.hasOwnProperty.call(this,o)||o==="parent"||o==="proxyCache")continue;let a=this[o];if(Array.isArray(a))r[o]=a.map(l=>typeof l=="object"&&l.toJSON?l.toJSON(null,t):l);else if(typeof a=="object"&&a.toJSON)r[o]=a.toJSON(null,t);else if(o==="source"){let l=t.get(a.input);l==null&&(l=s,t.set(a.input,s),s++),r[o]={end:a.end,inputId:l,start:a.start}}else r[o]=a}return i&&(r.inputs=[...t.keys()].map(o=>o.toJSON())),r}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(e=Ta){e.stringify&&(e=e.stringify);let t="";return e(this,r=>{t+=r}),t}warn(e,t,r){let i={node:this};for(let s in r)i[s]=r[s];return e.warn(t,i)}get proxyOf(){return this}};wi.exports=ut;ut.default=ut});var Dr=b((bh,yi)=>{"use strict";var Aa=Wt(),ct=class extends Aa{constructor(e){super(e),this.type="comment"}};yi.exports=ct;ct.default=ct});var Mr=b((Lh,Si)=>{"use strict";var Da=Wt(),ht=class extends Da{constructor(e){e&&typeof e.value<"u"&&typeof e.value!="string"&&(e={...e,value:String(e.value)}),super(e),this.type="decl"}get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}};Si.exports=ht;ht.default=ht});var dt=b((Oh,Ti)=>{"use strict";var vi=Dr(),xi=Mr(),Ma=Wt(),{isClean:Ci,my:bi}=Rr(),Pr,Li,Oi,Fr;function Ii(n){return n.map(e=>(e.nodes&&(e.nodes=Ii(e.nodes)),delete e.source,e))}function Ni(n){if(n[Ci]=!1,n.proxyOf.nodes)for(let e of n.proxyOf.nodes)Ni(e)}var ce=class n extends Ma{append(...e){for(let t of e){let r=this.normalize(t,this.last);for(let i of r)this.proxyOf.nodes.push(i)}return this.markDirty(),this}cleanRaws(e){if(super.cleanRaws(e),this.nodes)for(let t of this.nodes)t.cleanRaws(e)}each(e){if(!this.proxyOf.nodes)return;let t=this.getIterator(),r,i;for(;this.indexes[t]<this.proxyOf.nodes.length&&(r=this.indexes[t],i=e(this.proxyOf.nodes[r],r),i!==!1);)this.indexes[t]+=1;return delete this.indexes[t],i}every(e){return this.nodes.every(e)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let e=this.lastEach;return this.indexes[e]=0,e}getProxyProcessor(){return{get(e,t){return t==="proxyOf"?e:e[t]?t==="each"||typeof t=="string"&&t.startsWith("walk")?(...r)=>e[t](...r.map(i=>typeof i=="function"?(s,o)=>i(s.toProxy(),o):i)):t==="every"||t==="some"?r=>e[t]((i,...s)=>r(i.toProxy(),...s)):t==="root"?()=>e.root().toProxy():t==="nodes"?e.nodes.map(r=>r.toProxy()):t==="first"||t==="last"?e[t].toProxy():e[t]:e[t]},set(e,t,r){return e[t]===r||(e[t]=r,(t==="name"||t==="params"||t==="selector")&&e.markDirty()),!0}}}index(e){return typeof e=="number"?e:(e.proxyOf&&(e=e.proxyOf),this.proxyOf.nodes.indexOf(e))}insertAfter(e,t){let r=this.index(e),i=this.normalize(t,this.proxyOf.nodes[r]).reverse();r=this.index(e);for(let o of i)this.proxyOf.nodes.splice(r+1,0,o);let s;for(let o in this.indexes)s=this.indexes[o],r<s&&(this.indexes[o]=s+i.length);return this.markDirty(),this}insertBefore(e,t){let r=this.index(e),i=r===0?"prepend":!1,s=this.normalize(t,this.proxyOf.nodes[r],i).reverse();r=this.index(e);for(let a of s)this.proxyOf.nodes.splice(r,0,a);let o;for(let a in this.indexes)o=this.indexes[a],r<=o&&(this.indexes[a]=o+s.length);return this.markDirty(),this}normalize(e,t){if(typeof e=="string")e=Ii(Li(e).nodes);else if(typeof e>"u")e=[];else if(Array.isArray(e)){e=e.slice(0);for(let i of e)i.parent&&i.parent.removeChild(i,"ignore")}else if(e.type==="root"&&this.type!=="document"){e=e.nodes.slice(0);for(let i of e)i.parent&&i.parent.removeChild(i,"ignore")}else if(e.type)e=[e];else if(e.prop){if(typeof e.value>"u")throw new Error("Value field is missed in node creation");typeof e.value!="string"&&(e.value=String(e.value)),e=[new xi(e)]}else if(e.selector||e.selectors)e=[new Fr(e)];else if(e.name)e=[new Pr(e)];else if(e.text)e=[new vi(e)];else throw new Error("Unknown node type in node creation");return e.map(i=>(i[bi]||n.rebuild(i),i=i.proxyOf,i.parent&&i.parent.removeChild(i),i[Ci]&&Ni(i),i.raws||(i.raws={}),typeof i.raws.before>"u"&&t&&typeof t.raws.before<"u"&&(i.raws.before=t.raws.before.replace(/\S/g,"")),i.parent=this.proxyOf,i))}prepend(...e){e=e.reverse();for(let t of e){let r=this.normalize(t,this.first,"prepend").reverse();for(let i of r)this.proxyOf.nodes.unshift(i);for(let i in this.indexes)this.indexes[i]=this.indexes[i]+r.length}return this.markDirty(),this}push(e){return e.parent=this,this.proxyOf.nodes.push(e),this}removeAll(){for(let e of this.proxyOf.nodes)e.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(e){e=this.index(e),this.proxyOf.nodes[e].parent=void 0,this.proxyOf.nodes.splice(e,1);let t;for(let r in this.indexes)t=this.indexes[r],t>=e&&(this.indexes[r]=t-1);return this.markDirty(),this}replaceValues(e,t,r){return r||(r=t,t={}),this.walkDecls(i=>{t.props&&!t.props.includes(i.prop)||t.fast&&!i.value.includes(t.fast)||(i.value=i.value.replace(e,r))}),this.markDirty(),this}some(e){return this.nodes.some(e)}walk(e){return this.each((t,r)=>{let i;try{i=e(t,r)}catch(s){throw t.addToError(s)}return i!==!1&&t.walk&&(i=t.walk(e)),i})}walkAtRules(e,t){return t?e instanceof RegExp?this.walk((r,i)=>{if(r.type==="atrule"&&e.test(r.name))return t(r,i)}):this.walk((r,i)=>{if(r.type==="atrule"&&r.name===e)return t(r,i)}):(t=e,this.walk((r,i)=>{if(r.type==="atrule")return t(r,i)}))}walkComments(e){return this.walk((t,r)=>{if(t.type==="comment")return e(t,r)})}walkDecls(e,t){return t?e instanceof RegExp?this.walk((r,i)=>{if(r.type==="decl"&&e.test(r.prop))return t(r,i)}):this.walk((r,i)=>{if(r.type==="decl"&&r.prop===e)return t(r,i)}):(t=e,this.walk((r,i)=>{if(r.type==="decl")return t(r,i)}))}walkRules(e,t){return t?e instanceof RegExp?this.walk((r,i)=>{if(r.type==="rule"&&e.test(r.selector))return t(r,i)}):this.walk((r,i)=>{if(r.type==="rule"&&r.selector===e)return t(r,i)}):(t=e,this.walk((r,i)=>{if(r.type==="rule")return t(r,i)}))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}};ce.registerParse=n=>{Li=n};ce.registerRule=n=>{Fr=n};ce.registerAtRule=n=>{Pr=n};ce.registerRoot=n=>{Oi=n};Ti.exports=ce;ce.default=ce;ce.rebuild=n=>{n.type==="atrule"?Object.setPrototypeOf(n,Pr.prototype):n.type==="rule"?Object.setPrototypeOf(n,Fr.prototype):n.type==="decl"?Object.setPrototypeOf(n,xi.prototype):n.type==="comment"?Object.setPrototypeOf(n,vi.prototype):n.type==="root"&&Object.setPrototypeOf(n,Oi.prototype),n[bi]=!0,n.nodes&&n.nodes.forEach(e=>{ce.rebuild(e)})}});var Ai=b((Ih,Ri)=>{var Pa="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Fa=(n,e=21)=>(t=e)=>{let r="",i=t;for(;i--;)r+=n[Math.random()*n.length|0];return r},Ua=(n=21)=>{let e="",t=n;for(;t--;)e+=Pa[Math.random()*64|0];return e};Ri.exports={nanoid:Ua,customAlphabet:Fa}});var Mi=b(Ur=>{var Di="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");Ur.encode=function(n){if(0<=n&&n<Di.length)return Di[n];throw new TypeError("Must be between 0 and 63: "+n)};Ur.decode=function(n){var e=65,t=90,r=97,i=122,s=48,o=57,a=43,l=47,f=26,u=52;return e<=n&&n<=t?n-e:r<=n&&n<=i?n-r+f:s<=n&&n<=o?n-s+u:n==a?62:n==l?63:-1}});var zr=b(Br=>{var Pi=Mi(),kr=5,Fi=1<<kr,Ui=Fi-1,ki=Fi;function ka(n){return n<0?(-n<<1)+1:(n<<1)+0}function Ba(n){var e=(n&1)===1,t=n>>1;return e?-t:t}Br.encode=function(e){var t="",r,i=ka(e);do r=i&Ui,i>>>=kr,i>0&&(r|=ki),t+=Pi.encode(r);while(i>0);return t};Br.decode=function(e,t,r){var i=e.length,s=0,o=0,a,l;do{if(t>=i)throw new Error("Expected more digits in base 64 VLQ value.");if(l=Pi.decode(e.charCodeAt(t++)),l===-1)throw new Error("Invalid base64 digit: "+e.charAt(t-1));a=!!(l&ki),l&=Ui,s=s+(l<<o),o+=kr}while(a);r.value=Ba(s),r.rest=t}});var qe=b($=>{function za(n,e,t){if(e in n)return n[e];if(arguments.length===3)return t;throw new Error('"'+e+'" is a required argument.')}$.getArg=za;var Bi=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,Ga=/^data:.+\,.+$/;function pt(n){var e=n.match(Bi);return e?{scheme:e[1],auth:e[2],host:e[3],port:e[4],path:e[5]}:null}$.urlParse=pt;function We(n){var e="";return n.scheme&&(e+=n.scheme+":"),e+="//",n.auth&&(e+=n.auth+"@"),n.host&&(e+=n.host),n.port&&(e+=":"+n.port),n.path&&(e+=n.path),e}$.urlGenerate=We;var Wa=32;function qa(n){var e=[];return function(t){for(var r=0;r<e.length;r++)if(e[r].input===t){var i=e[0];return e[0]=e[r],e[r]=i,e[0].result}var s=n(t);return e.unshift({input:t,result:s}),e.length>Wa&&e.pop(),s}}var Gr=qa(function(e){var t=e,r=pt(e);if(r){if(!r.path)return e;t=r.path}for(var i=$.isAbsolute(t),s=[],o=0,a=0;;)if(o=a,a=t.indexOf("/",o),a===-1){s.push(t.slice(o));break}else for(s.push(t.slice(o,a));a<t.length&&t[a]==="/";)a++;for(var l,f=0,a=s.length-1;a>=0;a--)l=s[a],l==="."?s.splice(a,1):l===".."?f++:f>0&&(l===""?(s.splice(a+1,f),f=0):(s.splice(a,2),f--));return t=s.join("/"),t===""&&(t=i?"/":"."),r?(r.path=t,We(r)):t});$.normalize=Gr;function zi(n,e){n===""&&(n="."),e===""&&(e=".");var t=pt(e),r=pt(n);if(r&&(n=r.path||"/"),t&&!t.scheme)return r&&(t.scheme=r.scheme),We(t);if(t||e.match(Ga))return e;if(r&&!r.host&&!r.path)return r.host=e,We(r);var i=e.charAt(0)==="/"?e:Gr(n.replace(/\/+$/,"")+"/"+e);return r?(r.path=i,We(r)):i}$.join=zi;$.isAbsolute=function(n){return n.charAt(0)==="/"||Bi.test(n)};function ja(n,e){n===""&&(n="."),n=n.replace(/\/$/,"");for(var t=0;e.indexOf(n+"/")!==0;){var r=n.lastIndexOf("/");if(r<0||(n=n.slice(0,r),n.match(/^([^\/]+:\/)?\/*$/)))return e;++t}return Array(t+1).join("../")+e.substr(n.length+1)}$.relative=ja;var Gi=function(){var n=Object.create(null);return!("__proto__"in n)}();function Wi(n){return n}function $a(n){return qi(n)?"$"+n:n}$.toSetString=Gi?Wi:$a;function Va(n){return qi(n)?n.slice(1):n}$.fromSetString=Gi?Wi:Va;function qi(n){if(!n)return!1;var e=n.length;if(e<9||n.charCodeAt(e-1)!==95||n.charCodeAt(e-2)!==95||n.charCodeAt(e-3)!==111||n.charCodeAt(e-4)!==116||n.charCodeAt(e-5)!==111||n.charCodeAt(e-6)!==114||n.charCodeAt(e-7)!==112||n.charCodeAt(e-8)!==95||n.charCodeAt(e-9)!==95)return!1;for(var t=e-10;t>=0;t--)if(n.charCodeAt(t)!==36)return!1;return!0}function Ha(n,e,t){var r=ge(n.source,e.source);return r!==0||(r=n.originalLine-e.originalLine,r!==0)||(r=n.originalColumn-e.originalColumn,r!==0||t)||(r=n.generatedColumn-e.generatedColumn,r!==0)||(r=n.generatedLine-e.generatedLine,r!==0)?r:ge(n.name,e.name)}$.compareByOriginalPositions=Ha;function Za(n,e,t){var r;return r=n.originalLine-e.originalLine,r!==0||(r=n.originalColumn-e.originalColumn,r!==0||t)||(r=n.generatedColumn-e.generatedColumn,r!==0)||(r=n.generatedLine-e.generatedLine,r!==0)?r:ge(n.name,e.name)}$.compareByOriginalPositionsNoSource=Za;function Ya(n,e,t){var r=n.generatedLine-e.generatedLine;return r!==0||(r=n.generatedColumn-e.generatedColumn,r!==0||t)||(r=ge(n.source,e.source),r!==0)||(r=n.originalLine-e.originalLine,r!==0)||(r=n.originalColumn-e.originalColumn,r!==0)?r:ge(n.name,e.name)}$.compareByGeneratedPositionsDeflated=Ya;function Xa(n,e,t){var r=n.generatedColumn-e.generatedColumn;return r!==0||t||(r=ge(n.source,e.source),r!==0)||(r=n.originalLine-e.originalLine,r!==0)||(r=n.originalColumn-e.originalColumn,r!==0)?r:ge(n.name,e.name)}$.compareByGeneratedPositionsDeflatedNoLine=Xa;function ge(n,e){return n===e?0:n===null?1:e===null?-1:n>e?1:-1}function Ka(n,e){var t=n.generatedLine-e.generatedLine;return t!==0||(t=n.generatedColumn-e.generatedColumn,t!==0)||(t=ge(n.source,e.source),t!==0)||(t=n.originalLine-e.originalLine,t!==0)||(t=n.originalColumn-e.originalColumn,t!==0)?t:ge(n.name,e.name)}$.compareByGeneratedPositionsInflated=Ka;function Ja(n){return JSON.parse(n.replace(/^\)]}'[^\n]*\n/,""))}$.parseSourceMapInput=Ja;function Qa(n,e,t){if(e=e||"",n&&(n[n.length-1]!=="/"&&e[0]!=="/"&&(n+="/"),e=n+e),t){var r=pt(t);if(!r)throw new Error("sourceMapURL could not be parsed");if(r.path){var i=r.path.lastIndexOf("/");i>=0&&(r.path=r.path.substring(0,i+1))}e=zi(We(r),e)}return Gr(e)}$.computeSourceURL=Qa});var jr=b(ji=>{var Wr=qe(),qr=Object.prototype.hasOwnProperty,Me=typeof Map<"u";function _e(){this._array=[],this._set=Me?new Map:Object.create(null)}_e.fromArray=function(e,t){for(var r=new _e,i=0,s=e.length;i<s;i++)r.add(e[i],t);return r};_e.prototype.size=function(){return Me?this._set.size:Object.getOwnPropertyNames(this._set).length};_e.prototype.add=function(e,t){var r=Me?e:Wr.toSetString(e),i=Me?this.has(e):qr.call(this._set,r),s=this._array.length;(!i||t)&&this._array.push(e),i||(Me?this._set.set(e,s):this._set[r]=s)};_e.prototype.has=function(e){if(Me)return this._set.has(e);var t=Wr.toSetString(e);return qr.call(this._set,t)};_e.prototype.indexOf=function(e){if(Me){var t=this._set.get(e);if(t>=0)return t}else{var r=Wr.toSetString(e);if(qr.call(this._set,r))return this._set[r]}throw new Error('"'+e+'" is not in the set.')};_e.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)};_e.prototype.toArray=function(){return this._array.slice()};ji.ArraySet=_e});var Hi=b(Vi=>{var $i=qe();function ef(n,e){var t=n.generatedLine,r=e.generatedLine,i=n.generatedColumn,s=e.generatedColumn;return r>t||r==t&&s>=i||$i.compareByGeneratedPositionsInflated(n,e)<=0}function qt(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}qt.prototype.unsortedForEach=function(e,t){this._array.forEach(e,t)};qt.prototype.add=function(e){ef(this._last,e)?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))};qt.prototype.toArray=function(){return this._sorted||(this._array.sort($i.compareByGeneratedPositionsInflated),this._sorted=!0),this._array};Vi.MappingList=qt});var $r=b(Zi=>{var mt=zr(),W=qe(),jt=jr().ArraySet,tf=Hi().MappingList;function re(n){n||(n={}),this._file=W.getArg(n,"file",null),this._sourceRoot=W.getArg(n,"sourceRoot",null),this._skipValidation=W.getArg(n,"skipValidation",!1),this._ignoreInvalidMapping=W.getArg(n,"ignoreInvalidMapping",!1),this._sources=new jt,this._names=new jt,this._mappings=new tf,this._sourcesContents=null}re.prototype._version=3;re.fromSourceMap=function(e,t){var r=e.sourceRoot,i=new re(Object.assign(t||{},{file:e.file,sourceRoot:r}));return e.eachMapping(function(s){var o={generated:{line:s.generatedLine,column:s.generatedColumn}};s.source!=null&&(o.source=s.source,r!=null&&(o.source=W.relative(r,o.source)),o.original={line:s.originalLine,column:s.originalColumn},s.name!=null&&(o.name=s.name)),i.addMapping(o)}),e.sources.forEach(function(s){var o=s;r!==null&&(o=W.relative(r,s)),i._sources.has(o)||i._sources.add(o);var a=e.sourceContentFor(s);a!=null&&i.setSourceContent(s,a)}),i};re.prototype.addMapping=function(e){var t=W.getArg(e,"generated"),r=W.getArg(e,"original",null),i=W.getArg(e,"source",null),s=W.getArg(e,"name",null);!this._skipValidation&&this._validateMapping(t,r,i,s)===!1||(i!=null&&(i=String(i),this._sources.has(i)||this._sources.add(i)),s!=null&&(s=String(s),this._names.has(s)||this._names.add(s)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:r!=null&&r.line,originalColumn:r!=null&&r.column,source:i,name:s}))};re.prototype.setSourceContent=function(e,t){var r=e;this._sourceRoot!=null&&(r=W.relative(this._sourceRoot,r)),t!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[W.toSetString(r)]=t):this._sourcesContents&&(delete this._sourcesContents[W.toSetString(r)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))};re.prototype.applySourceMap=function(e,t,r){var i=t;if(t==null){if(e.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);i=e.file}var s=this._sourceRoot;s!=null&&(i=W.relative(s,i));var o=new jt,a=new jt;this._mappings.unsortedForEach(function(l){if(l.source===i&&l.originalLine!=null){var f=e.originalPositionFor({line:l.originalLine,column:l.originalColumn});f.source!=null&&(l.source=f.source,r!=null&&(l.source=W.join(r,l.source)),s!=null&&(l.source=W.relative(s,l.source)),l.originalLine=f.line,l.originalColumn=f.column,f.name!=null&&(l.name=f.name))}var u=l.source;u!=null&&!o.has(u)&&o.add(u);var h=l.name;h!=null&&!a.has(h)&&a.add(h)},this),this._sources=o,this._names=a,e.sources.forEach(function(l){var f=e.sourceContentFor(l);f!=null&&(r!=null&&(l=W.join(r,l)),s!=null&&(l=W.relative(s,l)),this.setSourceContent(l,f))},this)};re.prototype._validateMapping=function(e,t,r,i){if(t&&typeof t.line!="number"&&typeof t.column!="number"){var s="original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.";if(this._ignoreInvalidMapping)return typeof console<"u"&&console.warn&&console.warn(s),!1;throw new Error(s)}if(!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0&&!t&&!r&&!i)){if(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&r)return;var s="Invalid mapping: "+JSON.stringify({generated:e,source:r,original:t,name:i});if(this._ignoreInvalidMapping)return typeof console<"u"&&console.warn&&console.warn(s),!1;throw new Error(s)}};re.prototype._serializeMappings=function(){for(var e=0,t=1,r=0,i=0,s=0,o=0,a="",l,f,u,h,c=this._mappings.toArray(),d=0,m=c.length;d<m;d++){if(f=c[d],l="",f.generatedLine!==t)for(e=0;f.generatedLine!==t;)l+=";",t++;else if(d>0){if(!W.compareByGeneratedPositionsInflated(f,c[d-1]))continue;l+=","}l+=mt.encode(f.generatedColumn-e),e=f.generatedColumn,f.source!=null&&(h=this._sources.indexOf(f.source),l+=mt.encode(h-o),o=h,l+=mt.encode(f.originalLine-1-i),i=f.originalLine-1,l+=mt.encode(f.originalColumn-r),r=f.originalColumn,f.name!=null&&(u=this._names.indexOf(f.name),l+=mt.encode(u-s),s=u)),a+=l}return a};re.prototype._generateSourcesContent=function(e,t){return e.map(function(r){if(!this._sourcesContents)return null;t!=null&&(r=W.relative(t,r));var i=W.toSetString(r);return Object.prototype.hasOwnProperty.call(this._sourcesContents,i)?this._sourcesContents[i]:null},this)};re.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(e.file=this._file),this._sourceRoot!=null&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e};re.prototype.toString=function(){return JSON.stringify(this.toJSON())};Zi.SourceMapGenerator=re});var Yi=b(Pe=>{Pe.GREATEST_LOWER_BOUND=1;Pe.LEAST_UPPER_BOUND=2;function Vr(n,e,t,r,i,s){var o=Math.floor((e-n)/2)+n,a=i(t,r[o],!0);return a===0?o:a>0?e-o>1?Vr(o,e,t,r,i,s):s==Pe.LEAST_UPPER_BOUND?e<r.length?e:-1:o:o-n>1?Vr(n,o,t,r,i,s):s==Pe.LEAST_UPPER_BOUND?o:n<0?-1:n}Pe.search=function(e,t,r,i){if(t.length===0)return-1;var s=Vr(-1,t.length,e,t,r,i||Pe.GREATEST_LOWER_BOUND);if(s<0)return-1;for(;s-1>=0&&r(t[s],t[s-1],!0)===0;)--s;return s}});var Ji=b(Ki=>{function rf(n){function e(i,s,o){var a=i[s];i[s]=i[o],i[o]=a}function t(i,s){return Math.round(i+Math.random()*(s-i))}function r(i,s,o,a){if(o<a){var l=t(o,a),f=o-1;e(i,l,a);for(var u=i[a],h=o;h<a;h++)s(i[h],u,!1)<=0&&(f+=1,e(i,f,h));e(i,f+1,h);var c=f+1;r(i,s,o,c-1),r(i,s,c+1,a)}}return r}function nf(n){let e=rf.toString();return new Function(`return ${e}`)()(n)}var Xi=new WeakMap;Ki.quickSort=function(n,e,t=0){let r=Xi.get(e);r===void 0&&(r=nf(e),Xi.set(e,r)),r(n,e,t,n.length-1)}});var ts=b($t=>{var S=qe(),Zr=Yi(),je=jr().ArraySet,sf=zr(),gt=Ji().quickSort;function M(n,e){var t=n;return typeof n=="string"&&(t=S.parseSourceMapInput(n)),t.sections!=null?new he(t,e):new H(t,e)}M.fromSourceMap=function(n,e){return H.fromSourceMap(n,e)};M.prototype._version=3;M.prototype.__generatedMappings=null;Object.defineProperty(M.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}});M.prototype.__originalMappings=null;Object.defineProperty(M.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}});M.prototype._charIsMappingSeparator=function(e,t){var r=e.charAt(t);return r===";"||r===","};M.prototype._parseMappings=function(e,t){throw new Error("Subclasses must implement _parseMappings")};M.GENERATED_ORDER=1;M.ORIGINAL_ORDER=2;M.GREATEST_LOWER_BOUND=1;M.LEAST_UPPER_BOUND=2;M.prototype.eachMapping=function(e,t,r){var i=t||null,s=r||M.GENERATED_ORDER,o;switch(s){case M.GENERATED_ORDER:o=this._generatedMappings;break;case M.ORIGINAL_ORDER:o=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}for(var a=this.sourceRoot,l=e.bind(i),f=this._names,u=this._sources,h=this._sourceMapURL,c=0,d=o.length;c<d;c++){var m=o[c],p=m.source===null?null:u.at(m.source);p!==null&&(p=S.computeSourceURL(a,p,h)),l({source:p,generatedLine:m.generatedLine,generatedColumn:m.generatedColumn,originalLine:m.originalLine,originalColumn:m.originalColumn,name:m.name===null?null:f.at(m.name)})}};M.prototype.allGeneratedPositionsFor=function(e){var t=S.getArg(e,"line"),r={source:S.getArg(e,"source"),originalLine:t,originalColumn:S.getArg(e,"column",0)};if(r.source=this._findSourceIndex(r.source),r.source<0)return[];var i=[],s=this._findMapping(r,this._originalMappings,"originalLine","originalColumn",S.compareByOriginalPositions,Zr.LEAST_UPPER_BOUND);if(s>=0){var o=this._originalMappings[s];if(e.column===void 0)for(var a=o.originalLine;o&&o.originalLine===a;)i.push({line:S.getArg(o,"generatedLine",null),column:S.getArg(o,"generatedColumn",null),lastColumn:S.getArg(o,"lastGeneratedColumn",null)}),o=this._originalMappings[++s];else for(var l=o.originalColumn;o&&o.originalLine===t&&o.originalColumn==l;)i.push({line:S.getArg(o,"generatedLine",null),column:S.getArg(o,"generatedColumn",null),lastColumn:S.getArg(o,"lastGeneratedColumn",null)}),o=this._originalMappings[++s]}return i};$t.SourceMapConsumer=M;function H(n,e){var t=n;typeof n=="string"&&(t=S.parseSourceMapInput(n));var r=S.getArg(t,"version"),i=S.getArg(t,"sources"),s=S.getArg(t,"names",[]),o=S.getArg(t,"sourceRoot",null),a=S.getArg(t,"sourcesContent",null),l=S.getArg(t,"mappings"),f=S.getArg(t,"file",null);if(r!=this._version)throw new Error("Unsupported version: "+r);o&&(o=S.normalize(o)),i=i.map(String).map(S.normalize).map(function(u){return o&&S.isAbsolute(o)&&S.isAbsolute(u)?S.relative(o,u):u}),this._names=je.fromArray(s.map(String),!0),this._sources=je.fromArray(i,!0),this._absoluteSources=this._sources.toArray().map(function(u){return S.computeSourceURL(o,u,e)}),this.sourceRoot=o,this.sourcesContent=a,this._mappings=l,this._sourceMapURL=e,this.file=f}H.prototype=Object.create(M.prototype);H.prototype.consumer=M;H.prototype._findSourceIndex=function(n){var e=n;if(this.sourceRoot!=null&&(e=S.relative(this.sourceRoot,e)),this._sources.has(e))return this._sources.indexOf(e);var t;for(t=0;t<this._absoluteSources.length;++t)if(this._absoluteSources[t]==n)return t;return-1};H.fromSourceMap=function(e,t){var r=Object.create(H.prototype),i=r._names=je.fromArray(e._names.toArray(),!0),s=r._sources=je.fromArray(e._sources.toArray(),!0);r.sourceRoot=e._sourceRoot,r.sourcesContent=e._generateSourcesContent(r._sources.toArray(),r.sourceRoot),r.file=e._file,r._sourceMapURL=t,r._absoluteSources=r._sources.toArray().map(function(d){return S.computeSourceURL(r.sourceRoot,d,t)});for(var o=e._mappings.toArray().slice(),a=r.__generatedMappings=[],l=r.__originalMappings=[],f=0,u=o.length;f<u;f++){var h=o[f],c=new es;c.generatedLine=h.generatedLine,c.generatedColumn=h.generatedColumn,h.source&&(c.source=s.indexOf(h.source),c.originalLine=h.originalLine,c.originalColumn=h.originalColumn,h.name&&(c.name=i.indexOf(h.name)),l.push(c)),a.push(c)}return gt(r.__originalMappings,S.compareByOriginalPositions),r};H.prototype._version=3;Object.defineProperty(H.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function es(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}var Hr=S.compareByGeneratedPositionsDeflatedNoLine;function Qi(n,e){let t=n.length,r=n.length-e;if(!(r<=1))if(r==2){let i=n[e],s=n[e+1];Hr(i,s)>0&&(n[e]=s,n[e+1]=i)}else if(r<20)for(let i=e;i<t;i++)for(let s=i;s>e;s--){let o=n[s-1],a=n[s];if(Hr(o,a)<=0)break;n[s-1]=a,n[s]=o}else gt(n,Hr,e)}H.prototype._parseMappings=function(e,t){var r=1,i=0,s=0,o=0,a=0,l=0,f=e.length,u=0,h={},c={},d=[],m=[],p,_,v,C,I;let L=0;for(;u<f;)if(e.charAt(u)===";")r++,u++,i=0,Qi(m,L),L=m.length;else if(e.charAt(u)===",")u++;else{for(p=new es,p.generatedLine=r,C=u;C<f&&!this._charIsMappingSeparator(e,C);C++);for(_=e.slice(u,C),v=[];u<C;)sf.decode(e,u,c),I=c.value,u=c.rest,v.push(I);if(v.length===2)throw new Error("Found a source, but no line and column");if(v.length===3)throw new Error("Found a source and line, but no column");if(p.generatedColumn=i+v[0],i=p.generatedColumn,v.length>1&&(p.source=a+v[1],a+=v[1],p.originalLine=s+v[2],s=p.originalLine,p.originalLine+=1,p.originalColumn=o+v[3],o=p.originalColumn,v.length>4&&(p.name=l+v[4],l+=v[4])),m.push(p),typeof p.originalLine=="number"){let O=p.source;for(;d.length<=O;)d.push(null);d[O]===null&&(d[O]=[]),d[O].push(p)}}Qi(m,L),this.__generatedMappings=m;for(var R=0;R<d.length;R++)d[R]!=null&&gt(d[R],S.compareByOriginalPositionsNoSource);this.__originalMappings=[].concat(...d)};H.prototype._findMapping=function(e,t,r,i,s,o){if(e[r]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[r]);if(e[i]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[i]);return Zr.search(e,t,s,o)};H.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var r=this._generatedMappings[e+1];if(t.generatedLine===r.generatedLine){t.lastGeneratedColumn=r.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}};H.prototype.originalPositionFor=function(e){var t={generatedLine:S.getArg(e,"line"),generatedColumn:S.getArg(e,"column")},r=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",S.compareByGeneratedPositionsDeflated,S.getArg(e,"bias",M.GREATEST_LOWER_BOUND));if(r>=0){var i=this._generatedMappings[r];if(i.generatedLine===t.generatedLine){var s=S.getArg(i,"source",null);s!==null&&(s=this._sources.at(s),s=S.computeSourceURL(this.sourceRoot,s,this._sourceMapURL));var o=S.getArg(i,"name",null);return o!==null&&(o=this._names.at(o)),{source:s,line:S.getArg(i,"originalLine",null),column:S.getArg(i,"originalColumn",null),name:o}}}return{source:null,line:null,column:null,name:null}};H.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(e){return e==null}):!1};H.prototype.sourceContentFor=function(e,t){if(!this.sourcesContent)return null;var r=this._findSourceIndex(e);if(r>=0)return this.sourcesContent[r];var i=e;this.sourceRoot!=null&&(i=S.relative(this.sourceRoot,i));var s;if(this.sourceRoot!=null&&(s=S.urlParse(this.sourceRoot))){var o=i.replace(/^file:\/\//,"");if(s.scheme=="file"&&this._sources.has(o))return this.sourcesContent[this._sources.indexOf(o)];if((!s.path||s.path=="/")&&this._sources.has("/"+i))return this.sourcesContent[this._sources.indexOf("/"+i)]}if(t)return null;throw new Error('"'+i+'" is not in the SourceMap.')};H.prototype.generatedPositionFor=function(e){var t=S.getArg(e,"source");if(t=this._findSourceIndex(t),t<0)return{line:null,column:null,lastColumn:null};var r={source:t,originalLine:S.getArg(e,"line"),originalColumn:S.getArg(e,"column")},i=this._findMapping(r,this._originalMappings,"originalLine","originalColumn",S.compareByOriginalPositions,S.getArg(e,"bias",M.GREATEST_LOWER_BOUND));if(i>=0){var s=this._originalMappings[i];if(s.source===r.source)return{line:S.getArg(s,"generatedLine",null),column:S.getArg(s,"generatedColumn",null),lastColumn:S.getArg(s,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}};$t.BasicSourceMapConsumer=H;function he(n,e){var t=n;typeof n=="string"&&(t=S.parseSourceMapInput(n));var r=S.getArg(t,"version"),i=S.getArg(t,"sections");if(r!=this._version)throw new Error("Unsupported version: "+r);this._sources=new je,this._names=new je;var s={line:-1,column:0};this._sections=i.map(function(o){if(o.url)throw new Error("Support for url field in sections not implemented.");var a=S.getArg(o,"offset"),l=S.getArg(a,"line"),f=S.getArg(a,"column");if(l<s.line||l===s.line&&f<s.column)throw new Error("Section offsets must be ordered and non-overlapping.");return s=a,{generatedOffset:{generatedLine:l+1,generatedColumn:f+1},consumer:new M(S.getArg(o,"map"),e)}})}he.prototype=Object.create(M.prototype);he.prototype.constructor=M;he.prototype._version=3;Object.defineProperty(he.prototype,"sources",{get:function(){for(var n=[],e=0;e<this._sections.length;e++)for(var t=0;t<this._sections[e].consumer.sources.length;t++)n.push(this._sections[e].consumer.sources[t]);return n}});he.prototype.originalPositionFor=function(e){var t={generatedLine:S.getArg(e,"line"),generatedColumn:S.getArg(e,"column")},r=Zr.search(t,this._sections,function(s,o){var a=s.generatedLine-o.generatedOffset.generatedLine;return a||s.generatedColumn-o.generatedOffset.generatedColumn}),i=this._sections[r];return i?i.consumer.originalPositionFor({line:t.generatedLine-(i.generatedOffset.generatedLine-1),column:t.generatedColumn-(i.generatedOffset.generatedLine===t.generatedLine?i.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}};he.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(e){return e.consumer.hasContentsOfAllSources()})};he.prototype.sourceContentFor=function(e,t){for(var r=0;r<this._sections.length;r++){var i=this._sections[r],s=i.consumer.sourceContentFor(e,!0);if(s||s==="")return s}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')};he.prototype.generatedPositionFor=function(e){for(var t=0;t<this._sections.length;t++){var r=this._sections[t];if(r.consumer._findSourceIndex(S.getArg(e,"source"))!==-1){var i=r.consumer.generatedPositionFor(e);if(i){var s={line:i.line+(r.generatedOffset.generatedLine-1),column:i.column+(r.generatedOffset.generatedLine===i.line?r.generatedOffset.generatedColumn-1:0)};return s}}}return{line:null,column:null}};he.prototype._parseMappings=function(e,t){this.__generatedMappings=[],this.__originalMappings=[];for(var r=0;r<this._sections.length;r++)for(var i=this._sections[r],s=i.consumer._generatedMappings,o=0;o<s.length;o++){var a=s[o],l=i.consumer._sources.at(a.source);l!==null&&(l=S.computeSourceURL(i.consumer.sourceRoot,l,this._sourceMapURL)),this._sources.add(l),l=this._sources.indexOf(l);var f=null;a.name&&(f=i.consumer._names.at(a.name),this._names.add(f),f=this._names.indexOf(f));var u={source:l,generatedLine:a.generatedLine+(i.generatedOffset.generatedLine-1),generatedColumn:a.generatedColumn+(i.generatedOffset.generatedLine===a.generatedLine?i.generatedOffset.generatedColumn-1:0),originalLine:a.originalLine,originalColumn:a.originalColumn,name:f};this.__generatedMappings.push(u),typeof u.originalLine=="number"&&this.__originalMappings.push(u)}gt(this.__generatedMappings,S.compareByGeneratedPositionsDeflated),gt(this.__originalMappings,S.compareByOriginalPositions)};$t.IndexedSourceMapConsumer=he});var ns=b(rs=>{var of=$r().SourceMapGenerator,Vt=qe(),lf=/(\r?\n)/,af=10,$e="$$$isSourceNode$$$";function Q(n,e,t,r,i){this.children=[],this.sourceContents={},this.line=n??null,this.column=e??null,this.source=t??null,this.name=i??null,this[$e]=!0,r!=null&&this.add(r)}Q.fromStringWithSourceMap=function(e,t,r){var i=new Q,s=e.split(lf),o=0,a=function(){var c=m(),d=m()||"";return c+d;function m(){return o<s.length?s[o++]:void 0}},l=1,f=0,u=null;return t.eachMapping(function(c){if(u!==null)if(l<c.generatedLine)h(u,a()),l++,f=0;else{var d=s[o]||"",m=d.substr(0,c.generatedColumn-f);s[o]=d.substr(c.generatedColumn-f),f=c.generatedColumn,h(u,m),u=c;return}for(;l<c.generatedLine;)i.add(a()),l++;if(f<c.generatedColumn){var d=s[o]||"";i.add(d.substr(0,c.generatedColumn)),s[o]=d.substr(c.generatedColumn),f=c.generatedColumn}u=c},this),o<s.length&&(u&&h(u,a()),i.add(s.splice(o).join(""))),t.sources.forEach(function(c){var d=t.sourceContentFor(c);d!=null&&(r!=null&&(c=Vt.join(r,c)),i.setSourceContent(c,d))}),i;function h(c,d){if(c===null||c.source===void 0)i.add(d);else{var m=r?Vt.join(r,c.source):c.source;i.add(new Q(c.originalLine,c.originalColumn,m,d,c.name))}}};Q.prototype.add=function(e){if(Array.isArray(e))e.forEach(function(t){this.add(t)},this);else if(e[$e]||typeof e=="string")e&&this.children.push(e);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);return this};Q.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e.length-1;t>=0;t--)this.prepend(e[t]);else if(e[$e]||typeof e=="string")this.children.unshift(e);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);return this};Q.prototype.walk=function(e){for(var t,r=0,i=this.children.length;r<i;r++)t=this.children[r],t[$e]?t.walk(e):t!==""&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})};Q.prototype.join=function(e){var t,r,i=this.children.length;if(i>0){for(t=[],r=0;r<i-1;r++)t.push(this.children[r]),t.push(e);t.push(this.children[r]),this.children=t}return this};Q.prototype.replaceRight=function(e,t){var r=this.children[this.children.length-1];return r[$e]?r.replaceRight(e,t):typeof r=="string"?this.children[this.children.length-1]=r.replace(e,t):this.children.push("".replace(e,t)),this};Q.prototype.setSourceContent=function(e,t){this.sourceContents[Vt.toSetString(e)]=t};Q.prototype.walkSourceContents=function(e){for(var t=0,r=this.children.length;t<r;t++)this.children[t][$e]&&this.children[t].walkSourceContents(e);for(var i=Object.keys(this.sourceContents),t=0,r=i.length;t<r;t++)e(Vt.fromSetString(i[t]),this.sourceContents[i[t]])};Q.prototype.toString=function(){var e="";return this.walk(function(t){e+=t}),e};Q.prototype.toStringWithSourceMap=function(e){var t={code:"",line:1,column:0},r=new of(e),i=!1,s=null,o=null,a=null,l=null;return this.walk(function(f,u){t.code+=f,u.source!==null&&u.line!==null&&u.column!==null?((s!==u.source||o!==u.line||a!==u.column||l!==u.name)&&r.addMapping({source:u.source,original:{line:u.line,column:u.column},generated:{line:t.line,column:t.column},name:u.name}),s=u.source,o=u.line,a=u.column,l=u.name,i=!0):i&&(r.addMapping({generated:{line:t.line,column:t.column}}),s=null,i=!1);for(var h=0,c=f.length;h<c;h++)f.charCodeAt(h)===af?(t.line++,t.column=0,h+1===c?(s=null,i=!1):i&&r.addMapping({source:u.source,original:{line:u.line,column:u.column},generated:{line:t.line,column:t.column},name:u.name})):t.column++}),this.walkSourceContents(function(f,u){r.setSourceContent(f,u)}),{code:t.code,map:r}};rs.SourceNode=Q});var Yr=b(Ht=>{Ht.SourceMapGenerator=$r().SourceMapGenerator;Ht.SourceMapConsumer=ts().SourceMapConsumer;Ht.SourceNode=ns().SourceNode});var ls=b((zh,os)=>{"use strict";var{existsSync:ff,readFileSync:uf}=require("fs"),{dirname:Xr,join:cf}=require("path"),{SourceMapConsumer:is,SourceMapGenerator:ss}=Yr();function hf(n){return Buffer?Buffer.from(n,"base64").toString():window.atob(n)}var _t=class{constructor(e,t){if(t.map===!1)return;this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");let r=t.map?t.map.prev:void 0,i=this.loadMap(t.from,r);!this.mapFile&&t.from&&(this.mapFile=t.from),this.mapFile&&(this.root=Xr(this.mapFile)),i&&(this.text=i)}consumer(){return this.consumerCache||(this.consumerCache=new is(this.text)),this.consumerCache}decodeInline(e){let t=/^data:application\/json;charset=utf-?8;base64,/,r=/^data:application\/json;base64,/,i=/^data:application\/json;charset=utf-?8,/,s=/^data:application\/json,/,o=e.match(i)||e.match(s);if(o)return decodeURIComponent(e.substr(o[0].length));let a=e.match(t)||e.match(r);if(a)return hf(e.substr(a[0].length));let l=e.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+l)}getAnnotationURL(e){return e.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(e){return typeof e!="object"?!1:typeof e.mappings=="string"||typeof e._mappings=="string"||Array.isArray(e.sections)}loadAnnotation(e){let t=e.match(/\/\*\s*# sourceMappingURL=/g);if(!t)return;let r=e.lastIndexOf(t.pop()),i=e.indexOf("*/",r);r>-1&&i>-1&&(this.annotation=this.getAnnotationURL(e.substring(r,i)))}loadFile(e){if(this.root=Xr(e),ff(e))return this.mapFile=e,uf(e,"utf-8").toString().trim()}loadMap(e,t){if(t===!1)return!1;if(t){if(typeof t=="string")return t;if(typeof t=="function"){let r=t(e);if(r){let i=this.loadFile(r);if(!i)throw new Error("Unable to load previous source map: "+r.toString());return i}}else{if(t instanceof is)return ss.fromSourceMap(t).toString();if(t instanceof ss)return t.toString();if(this.isMap(t))return JSON.stringify(t);throw new Error("Unsupported previous source map format: "+t.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let r=this.annotation;return e&&(r=cf(Xr(e),r)),this.loadFile(r)}}}startWith(e,t){return e?e.substr(0,t.length)===t:!1}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}};os.exports=_t;_t.default=_t});var hs=b((Gh,cs)=>{"use strict";var{nanoid:df}=Ai(),{isAbsolute:Qr,resolve:en}=require("path"),{SourceMapConsumer:pf,SourceMapGenerator:mf}=Yr(),{fileURLToPath:as,pathToFileURL:Zt}=require("url"),fs=Or(),gf=ls(),Kr=Lr(),Jr=Symbol("fromOffsetCache"),_f=!!(pf&&mf),us=!!(en&&Qr),Ve=class{constructor(e,t={}){if(e===null||typeof e>"u"||typeof e=="object"&&!e.toString)throw new Error(`PostCSS received ${e} instead of CSS string`);if(this.css=e.toString(),this.css[0]==="\uFEFF"||this.css[0]==="\uFFFE"?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,t.from&&(!us||/^\w+:\/\//.test(t.from)||Qr(t.from)?this.file=t.from:this.file=en(t.from)),us&&_f){let r=new gf(this.css,t);if(r.text){this.map=r;let i=r.consumer().file;!this.file&&i&&(this.file=this.mapResolve(i))}}this.file||(this.id="<input css "+df(6)+">"),this.map&&(this.map.file=this.from)}error(e,t,r,i={}){let s,o,a;if(t&&typeof t=="object"){let f=t,u=r;if(typeof f.offset=="number"){let h=this.fromOffset(f.offset);t=h.line,r=h.col}else t=f.line,r=f.column;if(typeof u.offset=="number"){let h=this.fromOffset(u.offset);o=h.line,s=h.col}else o=u.line,s=u.column}else if(!r){let f=this.fromOffset(t);t=f.line,r=f.col}let l=this.origin(t,r,o,s);return l?a=new fs(e,l.endLine===void 0?l.line:{column:l.column,line:l.line},l.endLine===void 0?l.column:{column:l.endColumn,line:l.endLine},l.source,l.file,i.plugin):a=new fs(e,o===void 0?t:{column:r,line:t},o===void 0?r:{column:s,line:o},this.css,this.file,i.plugin),a.input={column:r,endColumn:s,endLine:o,line:t,source:this.css},this.file&&(Zt&&(a.input.url=Zt(this.file).toString()),a.input.file=this.file),a}fromOffset(e){let t,r;if(this[Jr])r=this[Jr];else{let s=this.css.split(`
`);r=new Array(s.length);let o=0;for(let a=0,l=s.length;a<l;a++)r[a]=o,o+=s[a].length+1;this[Jr]=r}t=r[r.length-1];let i=0;if(e>=t)i=r.length-1;else{let s=r.length-2,o;for(;i<s;)if(o=i+(s-i>>1),e<r[o])s=o-1;else if(e>=r[o+1])i=o+1;else{i=o;break}}return{col:e-r[i]+1,line:i+1}}mapResolve(e){return/^\w+:\/\//.test(e)?e:en(this.map.consumer().sourceRoot||this.map.root||".",e)}origin(e,t,r,i){if(!this.map)return!1;let s=this.map.consumer(),o=s.originalPositionFor({column:t,line:e});if(!o.source)return!1;let a;typeof r=="number"&&(a=s.originalPositionFor({column:i,line:r}));let l;Qr(o.source)?l=Zt(o.source):l=new URL(o.source,this.map.consumer().sourceRoot||Zt(this.map.mapFile));let f={column:o.column,endColumn:a&&a.column,endLine:a&&a.line,line:o.line,url:l.toString()};if(l.protocol==="file:")if(as)f.file=as(l);else throw new Error("file: protocol is not available in this PostCSS build");let u=s.sourceContentFor(o.source);return u&&(f.source=u),f}toJSON(){let e={};for(let t of["hasBOM","css","file","id"])this[t]!=null&&(e[t]=this[t]);return this.map&&(e.map={...this.map},e.map.consumerCache&&(e.map.consumerCache=void 0)),e}get from(){return this.file||this.id}};cs.exports=Ve;Ve.default=Ve;Kr&&Kr.registerInput&&Kr.registerInput(Ve)});var ms=b((Wh,ps)=>{"use strict";var ds=dt(),He=class extends ds{constructor(e){super(e),this.type="atrule"}append(...e){return this.proxyOf.nodes||(this.nodes=[]),super.append(...e)}prepend(...e){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...e)}};ps.exports=He;He.default=He;ds.registerAtRule(He)});var ys=b((qh,ws)=>{"use strict";var gs=dt(),_s,Es,xe=class extends gs{constructor(e){super(e),this.type="root",this.nodes||(this.nodes=[])}normalize(e,t,r){let i=super.normalize(e);if(t){if(r==="prepend")this.nodes.length>1?t.raws.before=this.nodes[1].raws.before:delete t.raws.before;else if(this.first!==t)for(let s of i)s.raws.before=t.raws.before}return i}removeChild(e,t){let r=this.index(e);return!t&&r===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[r].raws.before),super.removeChild(e)}toResult(e={}){return new _s(new Es,this,e).stringify()}};xe.registerLazyResult=n=>{_s=n};xe.registerProcessor=n=>{Es=n};ws.exports=xe;xe.default=xe;gs.registerRoot(xe)});var vs=b((jh,Ss)=>{"use strict";var Et={comma(n){return Et.split(n,[","],!0)},space(n){let e=[" ",`
`,"	"];return Et.split(n,e)},split(n,e,t){let r=[],i="",s=!1,o=0,a=!1,l="",f=!1;for(let u of n)f?f=!1:u==="\\"?f=!0:a?u===l&&(a=!1):u==='"'||u==="'"?(a=!0,l=u):u==="("?o+=1:u===")"?o>0&&(o-=1):o===0&&e.includes(u)&&(s=!0),s?(i!==""&&r.push(i.trim()),i="",s=!1):i+=u;return(t||i!=="")&&r.push(i.trim()),r}};Ss.exports=Et;Et.default=Et});var bs=b(($h,Cs)=>{"use strict";var xs=dt(),Ef=vs(),Ze=class extends xs{constructor(e){super(e),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return Ef.comma(this.selector)}set selectors(e){let t=this.selector?this.selector.match(/,\s*/):null,r=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(r)}};Cs.exports=Ze;Ze.default=Ze;xs.registerRule(Ze)});var Ns=b((Vh,Is)=>{"use strict";var wf=ms(),yf=Dr(),Sf=Mr(),vf=ys(),Ls=bs(),xf=br(),Os={empty:!0,space:!0};function Cf(n){for(let e=n.length-1;e>=0;e--){let t=n[e],r=t[3]||t[2];if(r)return r}}var tn=class{constructor(e){this.input=e,this.root=new vf,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:e,start:{column:1,line:1,offset:0}}}atrule(e){let t=new wf;t.name=e[1].slice(1),t.name===""&&this.unnamedAtrule(t,e),this.init(t,e[2]);let r,i,s,o=!1,a=!1,l=[],f=[];for(;!this.tokenizer.endOfFile();){if(e=this.tokenizer.nextToken(),r=e[0],r==="("||r==="["?f.push(r==="("?")":"]"):r==="{"&&f.length>0?f.push("}"):r===f[f.length-1]&&f.pop(),f.length===0)if(r===";"){t.source.end=this.getPosition(e[2]),t.source.end.offset++,this.semicolon=!0;break}else if(r==="{"){a=!0;break}else if(r==="}"){if(l.length>0){for(s=l.length-1,i=l[s];i&&i[0]==="space";)i=l[--s];i&&(t.source.end=this.getPosition(i[3]||i[2]),t.source.end.offset++)}this.end(e);break}else l.push(e);else l.push(e);if(this.tokenizer.endOfFile()){o=!0;break}}t.raws.between=this.spacesAndCommentsFromEnd(l),l.length?(t.raws.afterName=this.spacesAndCommentsFromStart(l),this.raw(t,"params",l),o&&(e=l[l.length-1],t.source.end=this.getPosition(e[3]||e[2]),t.source.end.offset++,this.spaces=t.raws.between,t.raws.between="")):(t.raws.afterName="",t.params=""),a&&(t.nodes=[],this.current=t)}checkMissedSemicolon(e){let t=this.colon(e);if(t===!1)return;let r=0,i;for(let s=t-1;s>=0&&(i=e[s],!(i[0]!=="space"&&(r+=1,r===2)));s--);throw this.input.error("Missed semicolon",i[0]==="word"?i[3]+1:i[2])}colon(e){let t=0,r,i,s;for(let[o,a]of e.entries()){if(i=a,s=i[0],s==="("&&(t+=1),s===")"&&(t-=1),t===0&&s===":")if(!r)this.doubleColon(i);else{if(r[0]==="word"&&r[1]==="progid")continue;return o}r=i}return!1}comment(e){let t=new yf;this.init(t,e[2]),t.source.end=this.getPosition(e[3]||e[2]),t.source.end.offset++;let r=e[1].slice(2,-2);if(/^\s*$/.test(r))t.text="",t.raws.left=r,t.raws.right="";else{let i=r.match(/^(\s*)([^]*\S)(\s*)$/);t.text=i[2],t.raws.left=i[1],t.raws.right=i[3]}}createTokenizer(){this.tokenizer=xf(this.input)}decl(e,t){let r=new Sf;this.init(r,e[0][2]);let i=e[e.length-1];for(i[0]===";"&&(this.semicolon=!0,e.pop()),r.source.end=this.getPosition(i[3]||i[2]||Cf(e)),r.source.end.offset++;e[0][0]!=="word";)e.length===1&&this.unknownWord(e),r.raws.before+=e.shift()[1];for(r.source.start=this.getPosition(e[0][2]),r.prop="";e.length;){let f=e[0][0];if(f===":"||f==="space"||f==="comment")break;r.prop+=e.shift()[1]}r.raws.between="";let s;for(;e.length;)if(s=e.shift(),s[0]===":"){r.raws.between+=s[1];break}else s[0]==="word"&&/\w/.test(s[1])&&this.unknownWord([s]),r.raws.between+=s[1];(r.prop[0]==="_"||r.prop[0]==="*")&&(r.raws.before+=r.prop[0],r.prop=r.prop.slice(1));let o=[],a;for(;e.length&&(a=e[0][0],!(a!=="space"&&a!=="comment"));)o.push(e.shift());this.precheckMissedSemicolon(e);for(let f=e.length-1;f>=0;f--){if(s=e[f],s[1].toLowerCase()==="!important"){r.important=!0;let u=this.stringFrom(e,f);u=this.spacesFromEnd(e)+u,u!==" !important"&&(r.raws.important=u);break}else if(s[1].toLowerCase()==="important"){let u=e.slice(0),h="";for(let c=f;c>0;c--){let d=u[c][0];if(h.trim().startsWith("!")&&d!=="space")break;h=u.pop()[1]+h}h.trim().startsWith("!")&&(r.important=!0,r.raws.important=h,e=u)}if(s[0]!=="space"&&s[0]!=="comment")break}e.some(f=>f[0]!=="space"&&f[0]!=="comment")&&(r.raws.between+=o.map(f=>f[1]).join(""),o=[]),this.raw(r,"value",o.concat(e),t),r.value.includes(":")&&!t&&this.checkMissedSemicolon(e)}doubleColon(e){throw this.input.error("Double colon",{offset:e[2]},{offset:e[2]+e[1].length})}emptyRule(e){let t=new Ls;this.init(t,e[2]),t.selector="",t.raws.between="",this.current=t}end(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(e[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(e)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(e){if(this.spaces+=e[1],this.current.nodes){let t=this.current.nodes[this.current.nodes.length-1];t&&t.type==="rule"&&!t.raws.ownSemicolon&&(t.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(e){let t=this.input.fromOffset(e);return{column:t.col,line:t.line,offset:e}}init(e,t){this.current.push(e),e.source={input:this.input,start:this.getPosition(t)},e.raws.before=this.spaces,this.spaces="",e.type!=="comment"&&(this.semicolon=!1)}other(e){let t=!1,r=null,i=!1,s=null,o=[],a=e[1].startsWith("--"),l=[],f=e;for(;f;){if(r=f[0],l.push(f),r==="("||r==="[")s||(s=f),o.push(r==="("?")":"]");else if(a&&i&&r==="{")s||(s=f),o.push("}");else if(o.length===0)if(r===";")if(i){this.decl(l,a);return}else break;else if(r==="{"){this.rule(l);return}else if(r==="}"){this.tokenizer.back(l.pop()),t=!0;break}else r===":"&&(i=!0);else r===o[o.length-1]&&(o.pop(),o.length===0&&(s=null));f=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(t=!0),o.length>0&&this.unclosedBracket(s),t&&i){if(!a)for(;l.length&&(f=l[l.length-1][0],!(f!=="space"&&f!=="comment"));)this.tokenizer.back(l.pop());this.decl(l,a)}else this.unknownWord(l)}parse(){let e;for(;!this.tokenizer.endOfFile();)switch(e=this.tokenizer.nextToken(),e[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e);break}this.endFile()}precheckMissedSemicolon(){}raw(e,t,r,i){let s,o,a=r.length,l="",f=!0,u,h;for(let c=0;c<a;c+=1)s=r[c],o=s[0],o==="space"&&c===a-1&&!i?f=!1:o==="comment"?(h=r[c-1]?r[c-1][0]:"empty",u=r[c+1]?r[c+1][0]:"empty",!Os[h]&&!Os[u]?l.slice(-1)===","?f=!1:l+=s[1]:f=!1):l+=s[1];if(!f){let c=r.reduce((d,m)=>d+m[1],"");e.raws[t]={raw:c,value:l}}e[t]=l}rule(e){e.pop();let t=new Ls;this.init(t,e[0][2]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t}spacesAndCommentsFromEnd(e){let t,r="";for(;e.length&&(t=e[e.length-1][0],!(t!=="space"&&t!=="comment"));)r=e.pop()[1]+r;return r}spacesAndCommentsFromStart(e){let t,r="";for(;e.length&&(t=e[0][0],!(t!=="space"&&t!=="comment"));)r+=e.shift()[1];return r}spacesFromEnd(e){let t,r="";for(;e.length&&(t=e[e.length-1][0],t==="space");)r=e.pop()[1]+r;return r}stringFrom(e,t){let r="";for(let i=t;i<e.length;i++)r+=e[i][1];return e.splice(t,e.length-t),r}unclosedBlock(){let e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)}unclosedBracket(e){throw this.input.error("Unclosed bracket",{offset:e[2]},{offset:e[2]+1})}unexpectedClose(e){throw this.input.error("Unexpected }",{offset:e[2]},{offset:e[2]+1})}unknownWord(e){throw this.input.error("Unknown word",{offset:e[0][2]},{offset:e[0][2]+e[0][1].length})}unnamedAtrule(e,t){throw this.input.error("At-rule without name",{offset:t[2]},{offset:t[2]+t[1].length})}};Is.exports=tn});var Rs=b((Hh,Ts)=>{"use strict";var bf=dt(),Lf=hs(),Of=Ns();function Yt(n,e){let t=new Lf(n,e),r=new Of(t);try{r.parse()}catch(i){throw process.env.NODE_ENV!=="production"&&i.name==="CssSyntaxError"&&e&&e.from&&(/\.scss$/i.test(e.from)?i.message+=`
You tried to parse SCSS with the standard CSS parser; try again with the postcss-scss parser`:/\.sass/i.test(e.from)?i.message+=`
You tried to parse Sass with the standard CSS parser; try again with the postcss-sass parser`:/\.less$/i.test(e.from)&&(i.message+=`
You tried to parse Less with the standard CSS parser; try again with the postcss-less parser`)),i}return r.root}Ts.exports=Yt;Yt.default=Yt;bf.registerParse(Yt)});var Ps=b((Zh,Ms)=>{"use strict";var{Duplex:If}=require("stream");function As(n){n.emit("close")}function Nf(){!this.destroyed&&this._writableState.finished&&this.destroy()}function Ds(n){this.removeListener("error",Ds),this.destroy(),this.listenerCount("error")===0&&this.emit("error",n)}function Tf(n,e){let t=!0,r=new If({...e,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return n.on("message",function(s,o){let a=!o&&r._readableState.objectMode?s.toString():s;r.push(a)||n.pause()}),n.once("error",function(s){r.destroyed||(t=!1,r.destroy(s))}),n.once("close",function(){r.destroyed||r.push(null)}),r._destroy=function(i,s){if(n.readyState===n.CLOSED){s(i),process.nextTick(As,r);return}let o=!1;n.once("error",function(l){o=!0,s(l)}),n.once("close",function(){o||s(i),process.nextTick(As,r)}),t&&n.terminate()},r._final=function(i){if(n.readyState===n.CONNECTING){n.once("open",function(){r._final(i)});return}n._socket!==null&&(n._socket._writableState.finished?(i(),r._readableState.endEmitted&&r.destroy()):(n._socket.once("finish",function(){i()}),n.close()))},r._read=function(){n.isPaused&&n.resume()},r._write=function(i,s,o){if(n.readyState===n.CONNECTING){n.once("open",function(){r._write(i,s,o)});return}n.send(i,o)},r.on("end",Nf),r.on("error",Ds),r}Ms.exports=Tf});var Ee=b((Yh,ks)=>{"use strict";var Fs=["nodebuffer","arraybuffer","fragments"],Us=typeof Blob<"u";Us&&Fs.push("blob");ks.exports={BINARY_TYPES:Fs,EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",hasBlob:Us,kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}});var wt=b((Xh,Xt)=>{"use strict";var{EMPTY_BUFFER:Rf}=Ee(),rn=Buffer[Symbol.species];function Af(n,e){if(n.length===0)return Rf;if(n.length===1)return n[0];let t=Buffer.allocUnsafe(e),r=0;for(let i=0;i<n.length;i++){let s=n[i];t.set(s,r),r+=s.length}return r<e?new rn(t.buffer,t.byteOffset,r):t}function Bs(n,e,t,r,i){for(let s=0;s<i;s++)t[r+s]=n[s]^e[s&3]}function zs(n,e){for(let t=0;t<n.length;t++)n[t]^=e[t&3]}function Df(n){return n.length===n.buffer.byteLength?n.buffer:n.buffer.slice(n.byteOffset,n.byteOffset+n.length)}function nn(n){if(nn.readOnly=!0,Buffer.isBuffer(n))return n;let e;return n instanceof ArrayBuffer?e=new rn(n):ArrayBuffer.isView(n)?e=new rn(n.buffer,n.byteOffset,n.byteLength):(e=Buffer.from(n),nn.readOnly=!1),e}Xt.exports={concat:Af,mask:Bs,toArrayBuffer:Df,toBuffer:nn,unmask:zs};if(!process.env.WS_NO_BUFFER_UTIL)try{let n=require("bufferutil");Xt.exports.mask=function(e,t,r,i,s){s<48?Bs(e,t,r,i,s):n.mask(e,t,r,i,s)},Xt.exports.unmask=function(e,t){e.length<32?zs(e,t):n.unmask(e,t)}}catch{}});var qs=b((Kh,Ws)=>{"use strict";var Gs=Symbol("kDone"),sn=Symbol("kRun"),on=class{constructor(e){this[Gs]=()=>{this.pending--,this[sn]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[sn]()}[sn](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[Gs])}}};Ws.exports=on});var vt=b((Jh,Hs)=>{"use strict";var yt=require("zlib"),js=wt(),Mf=qs(),{kStatusCode:$s}=Ee(),Pf=Buffer[Symbol.species],Ff=Buffer.from([0,0,255,255]),Qt=Symbol("permessage-deflate"),we=Symbol("total-length"),St=Symbol("callback"),Ce=Symbol("buffers"),Jt=Symbol("error"),Kt,ln=class{constructor(e,t,r){if(this._maxPayload=r|0,this._options=e||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,!Kt){let i=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;Kt=new Mf(i)}}static get extensionName(){return"permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[St];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){let t=this._options,r=e.find(i=>!(t.serverNoContextTakeover===!1&&i.server_no_context_takeover||i.server_max_window_bits&&(t.serverMaxWindowBits===!1||typeof t.serverMaxWindowBits=="number"&&t.serverMaxWindowBits>i.server_max_window_bits)||typeof t.clientMaxWindowBits=="number"&&!i.client_max_window_bits));if(!r)throw new Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(r.server_no_context_takeover=!0),t.clientNoContextTakeover&&(r.client_no_context_takeover=!0),typeof t.serverMaxWindowBits=="number"&&(r.server_max_window_bits=t.serverMaxWindowBits),typeof t.clientMaxWindowBits=="number"?r.client_max_window_bits=t.clientMaxWindowBits:(r.client_max_window_bits===!0||t.clientMaxWindowBits===!1)&&delete r.client_max_window_bits,r}acceptAsClient(e){let t=e[0];if(this._options.clientNoContextTakeover===!1&&t.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!t.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(t.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return t}normalizeParams(e){return e.forEach(t=>{Object.keys(t).forEach(r=>{let i=t[r];if(i.length>1)throw new Error(`Parameter "${r}" must have only a single value`);if(i=i[0],r==="client_max_window_bits"){if(i!==!0){let s=+i;if(!Number.isInteger(s)||s<8||s>15)throw new TypeError(`Invalid value for parameter "${r}": ${i}`);i=s}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${r}": ${i}`)}else if(r==="server_max_window_bits"){let s=+i;if(!Number.isInteger(s)||s<8||s>15)throw new TypeError(`Invalid value for parameter "${r}": ${i}`);i=s}else if(r==="client_no_context_takeover"||r==="server_no_context_takeover"){if(i!==!0)throw new TypeError(`Invalid value for parameter "${r}": ${i}`)}else throw new Error(`Unknown parameter "${r}"`);t[r]=i})}),e}decompress(e,t,r){Kt.add(i=>{this._decompress(e,t,(s,o)=>{i(),r(s,o)})})}compress(e,t,r){Kt.add(i=>{this._compress(e,t,(s,o)=>{i(),r(s,o)})})}_decompress(e,t,r){let i=this._isServer?"client":"server";if(!this._inflate){let s=`${i}_max_window_bits`,o=typeof this.params[s]!="number"?yt.Z_DEFAULT_WINDOWBITS:this.params[s];this._inflate=yt.createInflateRaw({...this._options.zlibInflateOptions,windowBits:o}),this._inflate[Qt]=this,this._inflate[we]=0,this._inflate[Ce]=[],this._inflate.on("error",kf),this._inflate.on("data",Vs)}this._inflate[St]=r,this._inflate.write(e),t&&this._inflate.write(Ff),this._inflate.flush(()=>{let s=this._inflate[Jt];if(s){this._inflate.close(),this._inflate=null,r(s);return}let o=js.concat(this._inflate[Ce],this._inflate[we]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[we]=0,this._inflate[Ce]=[],t&&this.params[`${i}_no_context_takeover`]&&this._inflate.reset()),r(null,o)})}_compress(e,t,r){let i=this._isServer?"server":"client";if(!this._deflate){let s=`${i}_max_window_bits`,o=typeof this.params[s]!="number"?yt.Z_DEFAULT_WINDOWBITS:this.params[s];this._deflate=yt.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:o}),this._deflate[we]=0,this._deflate[Ce]=[],this._deflate.on("data",Uf)}this._deflate[St]=r,this._deflate.write(e),this._deflate.flush(yt.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let s=js.concat(this._deflate[Ce],this._deflate[we]);t&&(s=new Pf(s.buffer,s.byteOffset,s.length-4)),this._deflate[St]=null,this._deflate[we]=0,this._deflate[Ce]=[],t&&this.params[`${i}_no_context_takeover`]&&this._deflate.reset(),r(null,s)})}};Hs.exports=ln;function Uf(n){this[Ce].push(n),this[we]+=n.length}function Vs(n){if(this[we]+=n.length,this[Qt]._maxPayload<1||this[we]<=this[Qt]._maxPayload){this[Ce].push(n);return}this[Jt]=new RangeError("Max payload size exceeded"),this[Jt].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[Jt][$s]=1009,this.removeListener("data",Vs),this.reset()}function kf(n){this[Qt]._inflate=null,n[$s]=1007,this[St](n)}});var Ye=b((Qh,er)=>{"use strict";var{isUtf8:Zs}=require("buffer"),{hasBlob:Bf}=Ee(),zf=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function Gf(n){return n>=1e3&&n<=1014&&n!==1004&&n!==1005&&n!==1006||n>=3e3&&n<=4999}function an(n){let e=n.length,t=0;for(;t<e;)if(!(n[t]&128))t++;else if((n[t]&224)===192){if(t+1===e||(n[t+1]&192)!==128||(n[t]&254)===192)return!1;t+=2}else if((n[t]&240)===224){if(t+2>=e||(n[t+1]&192)!==128||(n[t+2]&192)!==128||n[t]===224&&(n[t+1]&224)===128||n[t]===237&&(n[t+1]&224)===160)return!1;t+=3}else if((n[t]&248)===240){if(t+3>=e||(n[t+1]&192)!==128||(n[t+2]&192)!==128||(n[t+3]&192)!==128||n[t]===240&&(n[t+1]&240)===128||n[t]===244&&n[t+1]>143||n[t]>244)return!1;t+=4}else return!1;return!0}function Wf(n){return Bf&&typeof n=="object"&&typeof n.arrayBuffer=="function"&&typeof n.type=="string"&&typeof n.stream=="function"&&(n[Symbol.toStringTag]==="Blob"||n[Symbol.toStringTag]==="File")}er.exports={isBlob:Wf,isValidStatusCode:Gf,isValidUTF8:an,tokenChars:zf};if(Zs)er.exports.isValidUTF8=function(n){return n.length<24?an(n):Zs(n)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let n=require("utf-8-validate");er.exports.isValidUTF8=function(e){return e.length<32?an(e):n(e)}}catch{}});var dn=b((ed,to)=>{"use strict";var{Writable:qf}=require("stream"),Ys=vt(),{BINARY_TYPES:jf,EMPTY_BUFFER:Xs,kStatusCode:$f,kWebSocket:Vf}=Ee(),{concat:fn,toArrayBuffer:Hf,unmask:Zf}=wt(),{isValidStatusCode:Yf,isValidUTF8:Ks}=Ye(),tr=Buffer[Symbol.species],ne=0,Js=1,Qs=2,eo=3,un=4,cn=5,rr=6,hn=class extends qf{constructor(e={}){super(),this._allowSynchronousEvents=e.allowSynchronousEvents!==void 0?e.allowSynchronousEvents:!0,this._binaryType=e.binaryType||jf[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=e.maxPayload|0,this._skipUTF8Validation=!!e.skipUTF8Validation,this[Vf]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=ne}_write(e,t,r){if(this._opcode===8&&this._state==ne)return r();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(r)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let r=this._buffers[0];return this._buffers[0]=new tr(r.buffer,r.byteOffset+e,r.length-e),new tr(r.buffer,r.byteOffset,e)}let t=Buffer.allocUnsafe(e);do{let r=this._buffers[0],i=t.length-e;e>=r.length?t.set(this._buffers.shift(),i):(t.set(new Uint8Array(r.buffer,r.byteOffset,e),i),this._buffers[0]=new tr(r.buffer,r.byteOffset+e,r.length-e)),e-=r.length}while(e>0);return t}startLoop(e){this._loop=!0;do switch(this._state){case ne:this.getInfo(e);break;case Js:this.getPayloadLength16(e);break;case Qs:this.getPayloadLength64(e);break;case eo:this.getMask();break;case un:this.getData(e);break;case cn:case rr:this._loop=!1;return}while(this._loop);this._errored||e()}getInfo(e){if(this._bufferedBytes<2){this._loop=!1;return}let t=this.consume(2);if(t[0]&48){let i=this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");e(i);return}let r=(t[0]&64)===64;if(r&&!this._extensions[Ys.extensionName]){let i=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(i);return}if(this._fin=(t[0]&128)===128,this._opcode=t[0]&15,this._payloadLength=t[1]&127,this._opcode===0){if(r){let i=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(i);return}if(!this._fragmented){let i=this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");e(i);return}this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented){let i=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");e(i);return}this._compressed=r}else if(this._opcode>7&&this._opcode<11){if(!this._fin){let i=this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");e(i);return}if(r){let i=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(i);return}if(this._payloadLength>125||this._opcode===8&&this._payloadLength===1){let i=this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");e(i);return}}else{let i=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");e(i);return}if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(t[1]&128)===128,this._isServer){if(!this._masked){let i=this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK");e(i);return}}else if(this._masked){let i=this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");e(i);return}this._payloadLength===126?this._state=Js:this._payloadLength===127?this._state=Qs:this.haveLength(e)}getPayloadLength16(e){if(this._bufferedBytes<2){this._loop=!1;return}this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(e)}getPayloadLength64(e){if(this._bufferedBytes<8){this._loop=!1;return}let t=this.consume(8),r=t.readUInt32BE(0);if(r>Math.pow(2,21)-1){let i=this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH");e(i);return}this._payloadLength=r*Math.pow(2,32)+t.readUInt32BE(4),this.haveLength(e)}haveLength(e){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0)){let t=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");e(t);return}this._masked?this._state=eo:this._state=un}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=un}getData(e){let t=Xs;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}t=this.consume(this._payloadLength),this._masked&&this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3]&&Zf(t,this._mask)}if(this._opcode>7){this.controlMessage(t,e);return}if(this._compressed){this._state=cn,this.decompress(t,e);return}t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage(e)}decompress(e,t){this._extensions[Ys.extensionName].decompress(e,this._fin,(i,s)=>{if(i)return t(i);if(s.length){if(this._messageLength+=s.length,this._messageLength>this._maxPayload&&this._maxPayload>0){let o=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");t(o);return}this._fragments.push(s)}this.dataMessage(t),this._state===ne&&this.startLoop(t)})}dataMessage(e){if(!this._fin){this._state=ne;return}let t=this._messageLength,r=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let i;this._binaryType==="nodebuffer"?i=fn(r,t):this._binaryType==="arraybuffer"?i=Hf(fn(r,t)):this._binaryType==="blob"?i=new Blob(r):i=r,this._allowSynchronousEvents?(this.emit("message",i,!0),this._state=ne):(this._state=rr,setImmediate(()=>{this.emit("message",i,!0),this._state=ne,this.startLoop(e)}))}else{let i=fn(r,t);if(!this._skipUTF8Validation&&!Ks(i)){let s=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");e(s);return}this._state===cn||this._allowSynchronousEvents?(this.emit("message",i,!1),this._state=ne):(this._state=rr,setImmediate(()=>{this.emit("message",i,!1),this._state=ne,this.startLoop(e)}))}}controlMessage(e,t){if(this._opcode===8){if(e.length===0)this._loop=!1,this.emit("conclude",1005,Xs),this.end();else{let r=e.readUInt16BE(0);if(!Yf(r)){let s=this.createError(RangeError,`invalid status code ${r}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");t(s);return}let i=new tr(e.buffer,e.byteOffset+2,e.length-2);if(!this._skipUTF8Validation&&!Ks(i)){let s=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");t(s);return}this._loop=!1,this.emit("conclude",r,i),this.end()}this._state=ne;return}this._allowSynchronousEvents?(this.emit(this._opcode===9?"ping":"pong",e),this._state=ne):(this._state=rr,setImmediate(()=>{this.emit(this._opcode===9?"ping":"pong",e),this._state=ne,this.startLoop(t)}))}createError(e,t,r,i,s){this._loop=!1,this._errored=!0;let o=new e(r?`Invalid WebSocket frame: ${t}`:t);return Error.captureStackTrace(o,this.createError),o.code=s,o[$f]=i,o}};to.exports=hn});var gn=b((rd,io)=>{"use strict";var{Duplex:td}=require("stream"),{randomFillSync:Xf}=require("crypto"),ro=vt(),{EMPTY_BUFFER:Kf,kWebSocket:Jf,NOOP:Qf}=Ee(),{isBlob:Xe,isValidStatusCode:eu}=Ye(),{mask:no,toBuffer:Fe}=wt(),ie=Symbol("kByteLength"),tu=Buffer.alloc(4),nr=8*1024,Ue,Ke=nr,de=0,ru=1,nu=2,pn=class n{constructor(e,t,r){this._extensions=t||{},r&&(this._generateMask=r,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._queue=[],this._state=de,this.onerror=Qf,this[Jf]=void 0}static frame(e,t){let r,i=!1,s=2,o=!1;t.mask&&(r=t.maskBuffer||tu,t.generateMask?t.generateMask(r):(Ke===nr&&(Ue===void 0&&(Ue=Buffer.alloc(nr)),Xf(Ue,0,nr),Ke=0),r[0]=Ue[Ke++],r[1]=Ue[Ke++],r[2]=Ue[Ke++],r[3]=Ue[Ke++]),o=(r[0]|r[1]|r[2]|r[3])===0,s=6);let a;typeof e=="string"?(!t.mask||o)&&t[ie]!==void 0?a=t[ie]:(e=Buffer.from(e),a=e.length):(a=e.length,i=t.mask&&t.readOnly&&!o);let l=a;a>=65536?(s+=8,l=127):a>125&&(s+=2,l=126);let f=Buffer.allocUnsafe(i?a+s:s);return f[0]=t.fin?t.opcode|128:t.opcode,t.rsv1&&(f[0]|=64),f[1]=l,l===126?f.writeUInt16BE(a,2):l===127&&(f[2]=f[3]=0,f.writeUIntBE(a,4,6)),t.mask?(f[1]|=128,f[s-4]=r[0],f[s-3]=r[1],f[s-2]=r[2],f[s-1]=r[3],o?[f,e]:i?(no(e,r,f,s,a),[f]):(no(e,r,e,0,a),[f,e])):[f,e]}close(e,t,r,i){let s;if(e===void 0)s=Kf;else{if(typeof e!="number"||!eu(e))throw new TypeError("First argument must be a valid error code number");if(t===void 0||!t.length)s=Buffer.allocUnsafe(2),s.writeUInt16BE(e,0);else{let a=Buffer.byteLength(t);if(a>123)throw new RangeError("The message must not be greater than 123 bytes");s=Buffer.allocUnsafe(2+a),s.writeUInt16BE(e,0),typeof t=="string"?s.write(t,2):s.set(t,2)}}let o={[ie]:s.length,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._state!==de?this.enqueue([this.dispatch,s,!1,o,i]):this.sendFrame(n.frame(s,o),i)}ping(e,t,r){let i,s;if(typeof e=="string"?(i=Buffer.byteLength(e),s=!1):Xe(e)?(i=e.size,s=!1):(e=Fe(e),i=e.length,s=Fe.readOnly),i>125)throw new RangeError("The data size must not be greater than 125 bytes");let o={[ie]:i,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:9,readOnly:s,rsv1:!1};Xe(e)?this._state!==de?this.enqueue([this.getBlobData,e,!1,o,r]):this.getBlobData(e,!1,o,r):this._state!==de?this.enqueue([this.dispatch,e,!1,o,r]):this.sendFrame(n.frame(e,o),r)}pong(e,t,r){let i,s;if(typeof e=="string"?(i=Buffer.byteLength(e),s=!1):Xe(e)?(i=e.size,s=!1):(e=Fe(e),i=e.length,s=Fe.readOnly),i>125)throw new RangeError("The data size must not be greater than 125 bytes");let o={[ie]:i,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:10,readOnly:s,rsv1:!1};Xe(e)?this._state!==de?this.enqueue([this.getBlobData,e,!1,o,r]):this.getBlobData(e,!1,o,r):this._state!==de?this.enqueue([this.dispatch,e,!1,o,r]):this.sendFrame(n.frame(e,o),r)}send(e,t,r){let i=this._extensions[ro.extensionName],s=t.binary?2:1,o=t.compress,a,l;typeof e=="string"?(a=Buffer.byteLength(e),l=!1):Xe(e)?(a=e.size,l=!1):(e=Fe(e),a=e.length,l=Fe.readOnly),this._firstFragment?(this._firstFragment=!1,o&&i&&i.params[i._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(o=a>=i._threshold),this._compress=o):(o=!1,s=0),t.fin&&(this._firstFragment=!0);let f={[ie]:a,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:s,readOnly:l,rsv1:o};Xe(e)?this._state!==de?this.enqueue([this.getBlobData,e,this._compress,f,r]):this.getBlobData(e,this._compress,f,r):this._state!==de?this.enqueue([this.dispatch,e,this._compress,f,r]):this.dispatch(e,this._compress,f,r)}getBlobData(e,t,r,i){this._bufferedBytes+=r[ie],this._state=nu,e.arrayBuffer().then(s=>{if(this._socket.destroyed){let a=new Error("The socket was closed while the blob was being read");process.nextTick(mn,this,a,i);return}this._bufferedBytes-=r[ie];let o=Fe(s);t?this.dispatch(o,t,r,i):(this._state=de,this.sendFrame(n.frame(o,r),i),this.dequeue())}).catch(s=>{process.nextTick(iu,this,s,i)})}dispatch(e,t,r,i){if(!t){this.sendFrame(n.frame(e,r),i);return}let s=this._extensions[ro.extensionName];this._bufferedBytes+=r[ie],this._state=ru,s.compress(e,r.fin,(o,a)=>{if(this._socket.destroyed){let l=new Error("The socket was closed while data was being compressed");mn(this,l,i);return}this._bufferedBytes-=r[ie],this._state=de,r.readOnly=!1,this.sendFrame(n.frame(a,r),i),this.dequeue()})}dequeue(){for(;this._state===de&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[3][ie],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][ie],this._queue.push(e)}sendFrame(e,t){e.length===2?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}};io.exports=pn;function mn(n,e,t){typeof t=="function"&&t(e);for(let r=0;r<n._queue.length;r++){let i=n._queue[r],s=i[i.length-1];typeof s=="function"&&s(e)}}function iu(n,e,t){mn(n,e,t),n.onerror(e)}});var po=b((nd,ho)=>{"use strict";var{kForOnEventAttribute:xt,kListener:_n}=Ee(),so=Symbol("kCode"),oo=Symbol("kData"),lo=Symbol("kError"),ao=Symbol("kMessage"),fo=Symbol("kReason"),Je=Symbol("kTarget"),uo=Symbol("kType"),co=Symbol("kWasClean"),ye=class{constructor(e){this[Je]=null,this[uo]=e}get target(){return this[Je]}get type(){return this[uo]}};Object.defineProperty(ye.prototype,"target",{enumerable:!0});Object.defineProperty(ye.prototype,"type",{enumerable:!0});var ke=class extends ye{constructor(e,t={}){super(e),this[so]=t.code===void 0?0:t.code,this[fo]=t.reason===void 0?"":t.reason,this[co]=t.wasClean===void 0?!1:t.wasClean}get code(){return this[so]}get reason(){return this[fo]}get wasClean(){return this[co]}};Object.defineProperty(ke.prototype,"code",{enumerable:!0});Object.defineProperty(ke.prototype,"reason",{enumerable:!0});Object.defineProperty(ke.prototype,"wasClean",{enumerable:!0});var Qe=class extends ye{constructor(e,t={}){super(e),this[lo]=t.error===void 0?null:t.error,this[ao]=t.message===void 0?"":t.message}get error(){return this[lo]}get message(){return this[ao]}};Object.defineProperty(Qe.prototype,"error",{enumerable:!0});Object.defineProperty(Qe.prototype,"message",{enumerable:!0});var Ct=class extends ye{constructor(e,t={}){super(e),this[oo]=t.data===void 0?null:t.data}get data(){return this[oo]}};Object.defineProperty(Ct.prototype,"data",{enumerable:!0});var su={addEventListener(n,e,t={}){for(let i of this.listeners(n))if(!t[xt]&&i[_n]===e&&!i[xt])return;let r;if(n==="message")r=function(s,o){let a=new Ct("message",{data:o?s:s.toString()});a[Je]=this,ir(e,this,a)};else if(n==="close")r=function(s,o){let a=new ke("close",{code:s,reason:o.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});a[Je]=this,ir(e,this,a)};else if(n==="error")r=function(s){let o=new Qe("error",{error:s,message:s.message});o[Je]=this,ir(e,this,o)};else if(n==="open")r=function(){let s=new ye("open");s[Je]=this,ir(e,this,s)};else return;r[xt]=!!t[xt],r[_n]=e,t.once?this.once(n,r):this.on(n,r)},removeEventListener(n,e){for(let t of this.listeners(n))if(t[_n]===e&&!t[xt]){this.removeListener(n,t);break}}};ho.exports={CloseEvent:ke,ErrorEvent:Qe,Event:ye,EventTarget:su,MessageEvent:Ct};function ir(n,e,t){typeof n=="object"&&n.handleEvent?n.handleEvent.call(n,t):n.call(e,t)}});var En=b((id,mo)=>{"use strict";var{tokenChars:bt}=Ye();function me(n,e,t){n[e]===void 0?n[e]=[t]:n[e].push(t)}function ou(n){let e=Object.create(null),t=Object.create(null),r=!1,i=!1,s=!1,o,a,l=-1,f=-1,u=-1,h=0;for(;h<n.length;h++)if(f=n.charCodeAt(h),o===void 0)if(u===-1&&bt[f]===1)l===-1&&(l=h);else if(h!==0&&(f===32||f===9))u===-1&&l!==-1&&(u=h);else if(f===59||f===44){if(l===-1)throw new SyntaxError(`Unexpected character at index ${h}`);u===-1&&(u=h);let d=n.slice(l,u);f===44?(me(e,d,t),t=Object.create(null)):o=d,l=u=-1}else throw new SyntaxError(`Unexpected character at index ${h}`);else if(a===void 0)if(u===-1&&bt[f]===1)l===-1&&(l=h);else if(f===32||f===9)u===-1&&l!==-1&&(u=h);else if(f===59||f===44){if(l===-1)throw new SyntaxError(`Unexpected character at index ${h}`);u===-1&&(u=h),me(t,n.slice(l,u),!0),f===44&&(me(e,o,t),t=Object.create(null),o=void 0),l=u=-1}else if(f===61&&l!==-1&&u===-1)a=n.slice(l,h),l=u=-1;else throw new SyntaxError(`Unexpected character at index ${h}`);else if(i){if(bt[f]!==1)throw new SyntaxError(`Unexpected character at index ${h}`);l===-1?l=h:r||(r=!0),i=!1}else if(s)if(bt[f]===1)l===-1&&(l=h);else if(f===34&&l!==-1)s=!1,u=h;else if(f===92)i=!0;else throw new SyntaxError(`Unexpected character at index ${h}`);else if(f===34&&n.charCodeAt(h-1)===61)s=!0;else if(u===-1&&bt[f]===1)l===-1&&(l=h);else if(l!==-1&&(f===32||f===9))u===-1&&(u=h);else if(f===59||f===44){if(l===-1)throw new SyntaxError(`Unexpected character at index ${h}`);u===-1&&(u=h);let d=n.slice(l,u);r&&(d=d.replace(/\\/g,""),r=!1),me(t,a,d),f===44&&(me(e,o,t),t=Object.create(null),o=void 0),a=void 0,l=u=-1}else throw new SyntaxError(`Unexpected character at index ${h}`);if(l===-1||s||f===32||f===9)throw new SyntaxError("Unexpected end of input");u===-1&&(u=h);let c=n.slice(l,u);return o===void 0?me(e,c,t):(a===void 0?me(t,c,!0):r?me(t,a,c.replace(/\\/g,"")):me(t,a,c),me(e,o,t)),e}function lu(n){return Object.keys(n).map(e=>{let t=n[e];return Array.isArray(t)||(t=[t]),t.map(r=>[e].concat(Object.keys(r).map(i=>{let s=r[i];return Array.isArray(s)||(s=[s]),s.map(o=>o===!0?i:`${i}=${o}`).join("; ")})).join("; ")).join(", ")}).join(", ")}mo.exports={format:lu,parse:ou}});var xn=b((ld,Oo)=>{"use strict";var au=require("events"),fu=require("https"),uu=require("http"),Eo=require("net"),cu=require("tls"),{randomBytes:hu,createHash:du}=require("crypto"),{Duplex:sd,Readable:od}=require("stream"),{URL:wn}=require("url"),be=vt(),pu=dn(),mu=gn(),{isBlob:gu}=Ye(),{BINARY_TYPES:go,EMPTY_BUFFER:sr,GUID:_u,kForOnEventAttribute:yn,kListener:Eu,kStatusCode:wu,kWebSocket:V,NOOP:wo}=Ee(),{EventTarget:{addEventListener:yu,removeEventListener:Su}}=po(),{format:vu,parse:xu}=En(),{toBuffer:Cu}=wt(),bu=30*1e3,yo=Symbol("kAborted"),Sn=[8,13],Se=["CONNECTING","OPEN","CLOSING","CLOSED"],Lu=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,U=class n extends au{constructor(e,t,r){super(),this._binaryType=go[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=sr,this._closeTimer=null,this._errorEmitted=!1,this._extensions={},this._paused=!1,this._protocol="",this._readyState=n.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,e!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,t===void 0?t=[]:Array.isArray(t)||(typeof t=="object"&&t!==null?(r=t,t=[]):t=[t]),So(this,e,t,r)):(this._autoPong=r.autoPong,this._isServer=!0)}get binaryType(){return this._binaryType}set binaryType(e){go.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,t,r){let i=new pu({allowSynchronousEvents:r.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:r.maxPayload,skipUTF8Validation:r.skipUTF8Validation}),s=new mu(e,this._extensions,r.generateMask);this._receiver=i,this._sender=s,this._socket=e,i[V]=this,s[V]=this,e[V]=this,i.on("conclude",Nu),i.on("drain",Tu),i.on("error",Ru),i.on("message",Au),i.on("ping",Du),i.on("pong",Mu),s.onerror=Pu,e.setTimeout&&e.setTimeout(0),e.setNoDelay&&e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",Co),e.on("data",lr),e.on("end",bo),e.on("error",Lo),this._readyState=n.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=n.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[be.extensionName]&&this._extensions[be.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=n.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==n.CLOSED){if(this.readyState===n.CONNECTING){ee(this,this._req,"WebSocket was closed before the connection was established");return}if(this.readyState===n.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=n.CLOSING,this._sender.close(e,t,!this._isServer,r=>{r||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),xo(this)}}pause(){this.readyState===n.CONNECTING||this.readyState===n.CLOSED||(this._paused=!0,this._socket.pause())}ping(e,t,r){if(this.readyState===n.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(r=e,e=t=void 0):typeof t=="function"&&(r=t,t=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==n.OPEN){vn(this,e,r);return}t===void 0&&(t=!this._isServer),this._sender.ping(e||sr,t,r)}pong(e,t,r){if(this.readyState===n.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(r=e,e=t=void 0):typeof t=="function"&&(r=t,t=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==n.OPEN){vn(this,e,r);return}t===void 0&&(t=!this._isServer),this._sender.pong(e||sr,t,r)}resume(){this.readyState===n.CONNECTING||this.readyState===n.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,t,r){if(this.readyState===n.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof t=="function"&&(r=t,t={}),typeof e=="number"&&(e=e.toString()),this.readyState!==n.OPEN){vn(this,e,r);return}let i={binary:typeof e!="string",mask:!this._isServer,compress:!0,fin:!0,...t};this._extensions[be.extensionName]||(i.compress=!1),this._sender.send(e||sr,i,r)}terminate(){if(this.readyState!==n.CLOSED){if(this.readyState===n.CONNECTING){ee(this,this._req,"WebSocket was closed before the connection was established");return}this._socket&&(this._readyState=n.CLOSING,this._socket.destroy())}}};Object.defineProperty(U,"CONNECTING",{enumerable:!0,value:Se.indexOf("CONNECTING")});Object.defineProperty(U.prototype,"CONNECTING",{enumerable:!0,value:Se.indexOf("CONNECTING")});Object.defineProperty(U,"OPEN",{enumerable:!0,value:Se.indexOf("OPEN")});Object.defineProperty(U.prototype,"OPEN",{enumerable:!0,value:Se.indexOf("OPEN")});Object.defineProperty(U,"CLOSING",{enumerable:!0,value:Se.indexOf("CLOSING")});Object.defineProperty(U.prototype,"CLOSING",{enumerable:!0,value:Se.indexOf("CLOSING")});Object.defineProperty(U,"CLOSED",{enumerable:!0,value:Se.indexOf("CLOSED")});Object.defineProperty(U.prototype,"CLOSED",{enumerable:!0,value:Se.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(n=>{Object.defineProperty(U.prototype,n,{enumerable:!0})});["open","error","close","message"].forEach(n=>{Object.defineProperty(U.prototype,`on${n}`,{enumerable:!0,get(){for(let e of this.listeners(n))if(e[yn])return e[Eu];return null},set(e){for(let t of this.listeners(n))if(t[yn]){this.removeListener(n,t);break}typeof e=="function"&&this.addEventListener(n,e,{[yn]:!0})}})});U.prototype.addEventListener=yu;U.prototype.removeEventListener=Su;Oo.exports=U;function So(n,e,t,r){let i={allowSynchronousEvents:!0,autoPong:!0,protocolVersion:Sn[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...r,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(n._autoPong=i.autoPong,!Sn.includes(i.protocolVersion))throw new RangeError(`Unsupported protocol version: ${i.protocolVersion} (supported versions: ${Sn.join(", ")})`);let s;if(e instanceof wn)s=e;else try{s=new wn(e)}catch{throw new SyntaxError(`Invalid URL: ${e}`)}s.protocol==="http:"?s.protocol="ws:":s.protocol==="https:"&&(s.protocol="wss:"),n._url=s.href;let o=s.protocol==="wss:",a=s.protocol==="ws+unix:",l;if(s.protocol!=="ws:"&&!o&&!a?l=`The URL's protocol must be one of "ws:", "wss:", "http:", "https", or "ws+unix:"`:a&&!s.pathname?l="The URL's pathname is empty":s.hash&&(l="The URL contains a fragment identifier"),l){let p=new SyntaxError(l);if(n._redirects===0)throw p;or(n,p);return}let f=o?443:80,u=hu(16).toString("base64"),h=o?fu.request:uu.request,c=new Set,d;if(i.createConnection=i.createConnection||(o?Iu:Ou),i.defaultPort=i.defaultPort||f,i.port=s.port||f,i.host=s.hostname.startsWith("[")?s.hostname.slice(1,-1):s.hostname,i.headers={...i.headers,"Sec-WebSocket-Version":i.protocolVersion,"Sec-WebSocket-Key":u,Connection:"Upgrade",Upgrade:"websocket"},i.path=s.pathname+s.search,i.timeout=i.handshakeTimeout,i.perMessageDeflate&&(d=new be(i.perMessageDeflate!==!0?i.perMessageDeflate:{},!1,i.maxPayload),i.headers["Sec-WebSocket-Extensions"]=vu({[be.extensionName]:d.offer()})),t.length){for(let p of t){if(typeof p!="string"||!Lu.test(p)||c.has(p))throw new SyntaxError("An invalid or duplicated subprotocol was specified");c.add(p)}i.headers["Sec-WebSocket-Protocol"]=t.join(",")}if(i.origin&&(i.protocolVersion<13?i.headers["Sec-WebSocket-Origin"]=i.origin:i.headers.Origin=i.origin),(s.username||s.password)&&(i.auth=`${s.username}:${s.password}`),a){let p=i.path.split(":");i.socketPath=p[0],i.path=p[1]}let m;if(i.followRedirects){if(n._redirects===0){n._originalIpc=a,n._originalSecure=o,n._originalHostOrSocketPath=a?i.socketPath:s.host;let p=r&&r.headers;if(r={...r,headers:{}},p)for(let[_,v]of Object.entries(p))r.headers[_.toLowerCase()]=v}else if(n.listenerCount("redirect")===0){let p=a?n._originalIpc?i.socketPath===n._originalHostOrSocketPath:!1:n._originalIpc?!1:s.host===n._originalHostOrSocketPath;(!p||n._originalSecure&&!o)&&(delete i.headers.authorization,delete i.headers.cookie,p||delete i.headers.host,i.auth=void 0)}i.auth&&!r.headers.authorization&&(r.headers.authorization="Basic "+Buffer.from(i.auth).toString("base64")),m=n._req=h(i),n._redirects&&n.emit("redirect",n.url,m)}else m=n._req=h(i);i.timeout&&m.on("timeout",()=>{ee(n,m,"Opening handshake has timed out")}),m.on("error",p=>{m===null||m[yo]||(m=n._req=null,or(n,p))}),m.on("response",p=>{let _=p.headers.location,v=p.statusCode;if(_&&i.followRedirects&&v>=300&&v<400){if(++n._redirects>i.maxRedirects){ee(n,m,"Maximum redirects exceeded");return}m.abort();let C;try{C=new wn(_,e)}catch{let L=new SyntaxError(`Invalid URL: ${_}`);or(n,L);return}So(n,C,t,r)}else n.emit("unexpected-response",m,p)||ee(n,m,`Unexpected server response: ${p.statusCode}`)}),m.on("upgrade",(p,_,v)=>{if(n.emit("upgrade",p),n.readyState!==U.CONNECTING)return;m=n._req=null;let C=p.headers.upgrade;if(C===void 0||C.toLowerCase()!=="websocket"){ee(n,_,"Invalid Upgrade header");return}let I=du("sha1").update(u+_u).digest("base64");if(p.headers["sec-websocket-accept"]!==I){ee(n,_,"Invalid Sec-WebSocket-Accept header");return}let L=p.headers["sec-websocket-protocol"],R;if(L!==void 0?c.size?c.has(L)||(R="Server sent an invalid subprotocol"):R="Server sent a subprotocol but none was requested":c.size&&(R="Server sent no subprotocol"),R){ee(n,_,R);return}L&&(n._protocol=L);let O=p.headers["sec-websocket-extensions"];if(O!==void 0){if(!d){ee(n,_,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let k;try{k=xu(O)}catch{ee(n,_,"Invalid Sec-WebSocket-Extensions header");return}let P=Object.keys(k);if(P.length!==1||P[0]!==be.extensionName){ee(n,_,"Server indicated an extension that was not requested");return}try{d.accept(k[be.extensionName])}catch{ee(n,_,"Invalid Sec-WebSocket-Extensions header");return}n._extensions[be.extensionName]=d}n.setSocket(_,v,{allowSynchronousEvents:i.allowSynchronousEvents,generateMask:i.generateMask,maxPayload:i.maxPayload,skipUTF8Validation:i.skipUTF8Validation})}),i.finishRequest?i.finishRequest(m,n):m.end()}function or(n,e){n._readyState=U.CLOSING,n._errorEmitted=!0,n.emit("error",e),n.emitClose()}function Ou(n){return n.path=n.socketPath,Eo.connect(n)}function Iu(n){return n.path=void 0,!n.servername&&n.servername!==""&&(n.servername=Eo.isIP(n.host)?"":n.host),cu.connect(n)}function ee(n,e,t){n._readyState=U.CLOSING;let r=new Error(t);Error.captureStackTrace(r,ee),e.setHeader?(e[yo]=!0,e.abort(),e.socket&&!e.socket.destroyed&&e.socket.destroy(),process.nextTick(or,n,r)):(e.destroy(r),e.once("error",n.emit.bind(n,"error")),e.once("close",n.emitClose.bind(n)))}function vn(n,e,t){if(e){let r=gu(e)?e.size:Cu(e).length;n._socket?n._sender._bufferedBytes+=r:n._bufferedAmount+=r}if(t){let r=new Error(`WebSocket is not open: readyState ${n.readyState} (${Se[n.readyState]})`);process.nextTick(t,r)}}function Nu(n,e){let t=this[V];t._closeFrameReceived=!0,t._closeMessage=e,t._closeCode=n,t._socket[V]!==void 0&&(t._socket.removeListener("data",lr),process.nextTick(vo,t._socket),n===1005?t.close():t.close(n,e))}function Tu(){let n=this[V];n.isPaused||n._socket.resume()}function Ru(n){let e=this[V];e._socket[V]!==void 0&&(e._socket.removeListener("data",lr),process.nextTick(vo,e._socket),e.close(n[wu])),e._errorEmitted||(e._errorEmitted=!0,e.emit("error",n))}function _o(){this[V].emitClose()}function Au(n,e){this[V].emit("message",n,e)}function Du(n){let e=this[V];e._autoPong&&e.pong(n,!this._isServer,wo),e.emit("ping",n)}function Mu(n){this[V].emit("pong",n)}function vo(n){n.resume()}function Pu(n){let e=this[V];e.readyState!==U.CLOSED&&(e.readyState===U.OPEN&&(e._readyState=U.CLOSING,xo(e)),this._socket.end(),e._errorEmitted||(e._errorEmitted=!0,e.emit("error",n)))}function xo(n){n._closeTimer=setTimeout(n._socket.destroy.bind(n._socket),bu)}function Co(){let n=this[V];this.removeListener("close",Co),this.removeListener("data",lr),this.removeListener("end",bo),n._readyState=U.CLOSING;let e;!this._readableState.endEmitted&&!n._closeFrameReceived&&!n._receiver._writableState.errorEmitted&&(e=n._socket.read())!==null&&n._receiver.write(e),n._receiver.end(),this[V]=void 0,clearTimeout(n._closeTimer),n._receiver._writableState.finished||n._receiver._writableState.errorEmitted?n.emitClose():(n._receiver.on("error",_o),n._receiver.on("finish",_o))}function lr(n){this[V]._receiver.write(n)||this.pause()}function bo(){let n=this[V];n._readyState=U.CLOSING,n._receiver.end(),this.end()}function Lo(){let n=this[V];this.removeListener("error",Lo),this.on("error",wo),n&&(n._readyState=U.CLOSING,this.destroy())}});var No=b((ad,Io)=>{"use strict";var{tokenChars:Fu}=Ye();function Uu(n){let e=new Set,t=-1,r=-1,i=0;for(i;i<n.length;i++){let o=n.charCodeAt(i);if(r===-1&&Fu[o]===1)t===-1&&(t=i);else if(i!==0&&(o===32||o===9))r===-1&&t!==-1&&(r=i);else if(o===44){if(t===-1)throw new SyntaxError(`Unexpected character at index ${i}`);r===-1&&(r=i);let a=n.slice(t,r);if(e.has(a))throw new SyntaxError(`The "${a}" subprotocol is duplicated`);e.add(a),t=r=-1}else throw new SyntaxError(`Unexpected character at index ${i}`)}if(t===-1||r!==-1)throw new SyntaxError("Unexpected end of input");let s=n.slice(t,i);if(e.has(s))throw new SyntaxError(`The "${s}" subprotocol is duplicated`);return e.add(s),e}Io.exports={parse:Uu}});var Fo=b((ud,Po)=>{"use strict";var ku=require("events"),ar=require("http"),{Duplex:fd}=require("stream"),{createHash:Bu}=require("crypto"),To=En(),Be=vt(),zu=No(),Gu=xn(),{GUID:Wu,kWebSocket:qu}=Ee(),ju=/^[+/0-9A-Za-z]{22}==$/,Ro=0,Ao=1,Mo=2,Cn=class extends ku{constructor(e,t){if(super(),e={allowSynchronousEvents:!0,autoPong:!0,maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:Gu,...e},e.port==null&&!e.server&&!e.noServer||e.port!=null&&(e.server||e.noServer)||e.server&&e.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(e.port!=null?(this._server=ar.createServer((r,i)=>{let s=ar.STATUS_CODES[426];i.writeHead(426,{"Content-Length":s.length,"Content-Type":"text/plain"}),i.end(s)}),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server){let r=this.emit.bind(this,"connection");this._removeListeners=$u(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(i,s,o)=>{this.handleUpgrade(i,s,o,r)}})}e.perMessageDeflate===!0&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=Ro}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(this._state===Mo){e&&this.once("close",()=>{e(new Error("The server is not running"))}),process.nextTick(Lt,this);return}if(e&&this.once("close",e),this._state!==Ao)if(this._state=Ao,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients?this.clients.size?this._shouldEmitClose=!0:process.nextTick(Lt,this):process.nextTick(Lt,this);else{let t=this._server;this._removeListeners(),this._removeListeners=this._server=null,t.close(()=>{Lt(this)})}}shouldHandle(e){if(this.options.path){let t=e.url.indexOf("?");if((t!==-1?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,r,i){t.on("error",Do);let s=e.headers["sec-websocket-key"],o=e.headers.upgrade,a=+e.headers["sec-websocket-version"];if(e.method!=="GET"){ze(this,e,t,405,"Invalid HTTP method");return}if(o===void 0||o.toLowerCase()!=="websocket"){ze(this,e,t,400,"Invalid Upgrade header");return}if(s===void 0||!ju.test(s)){ze(this,e,t,400,"Missing or invalid Sec-WebSocket-Key header");return}if(a!==8&&a!==13){ze(this,e,t,400,"Missing or invalid Sec-WebSocket-Version header");return}if(!this.shouldHandle(e)){Ot(t,400);return}let l=e.headers["sec-websocket-protocol"],f=new Set;if(l!==void 0)try{f=zu.parse(l)}catch{ze(this,e,t,400,"Invalid Sec-WebSocket-Protocol header");return}let u=e.headers["sec-websocket-extensions"],h={};if(this.options.perMessageDeflate&&u!==void 0){let c=new Be(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let d=To.parse(u);d[Be.extensionName]&&(c.accept(d[Be.extensionName]),h[Be.extensionName]=c)}catch{ze(this,e,t,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let c={origin:e.headers[`${a===8?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(this.options.verifyClient.length===2){this.options.verifyClient(c,(d,m,p,_)=>{if(!d)return Ot(t,m||401,p,_);this.completeUpgrade(h,s,f,e,t,r,i)});return}if(!this.options.verifyClient(c))return Ot(t,401)}this.completeUpgrade(h,s,f,e,t,r,i)}completeUpgrade(e,t,r,i,s,o,a){if(!s.readable||!s.writable)return s.destroy();if(s[qu])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>Ro)return Ot(s,503);let f=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${Bu("sha1").update(t+Wu).digest("base64")}`],u=new this.options.WebSocket(null,void 0,this.options);if(r.size){let h=this.options.handleProtocols?this.options.handleProtocols(r,i):r.values().next().value;h&&(f.push(`Sec-WebSocket-Protocol: ${h}`),u._protocol=h)}if(e[Be.extensionName]){let h=e[Be.extensionName].params,c=To.format({[Be.extensionName]:[h]});f.push(`Sec-WebSocket-Extensions: ${c}`),u._extensions=e}this.emit("headers",f,i),s.write(f.concat(`\r
`).join(`\r
`)),s.removeListener("error",Do),u.setSocket(s,o,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(u),u.on("close",()=>{this.clients.delete(u),this._shouldEmitClose&&!this.clients.size&&process.nextTick(Lt,this)})),a(u,i)}};Po.exports=Cn;function $u(n,e){for(let t of Object.keys(e))n.on(t,e[t]);return function(){for(let r of Object.keys(e))n.removeListener(r,e[r])}}function Lt(n){n._state=Mo,n.emit("close")}function Do(){this.destroy()}function Ot(n,e,t,r){t=t||ar.STATUS_CODES[e],r={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(t),...r},n.once("finish",n.destroy),n.end(`HTTP/1.1 ${e} ${ar.STATUS_CODES[e]}\r
`+Object.keys(r).map(i=>`${i}: ${r[i]}`).join(`\r
`)+`\r
\r
`+t)}function ze(n,e,t,r,i){if(n.listenerCount("wsClientError")){let s=new Error(i);Error.captureStackTrace(s,ze),n.emit("wsClientError",s,t,e)}else Ot(t,r,i)}});var qo=b((hd,Wo)=>{"use strict";Wo.exports=zo;function zo(n,e,t){n instanceof RegExp&&(n=Bo(n,t)),e instanceof RegExp&&(e=Bo(e,t));var r=Go(n,e,t);return r&&{start:r[0],end:r[1],pre:t.slice(0,r[0]),body:t.slice(r[0]+n.length,r[1]),post:t.slice(r[1]+e.length)}}function Bo(n,e){var t=e.match(n);return t?t[0]:null}zo.range=Go;function Go(n,e,t){var r,i,s,o,a,l=t.indexOf(n),f=t.indexOf(e,l+1),u=l;if(l>=0&&f>0){if(n===e)return[l,f];for(r=[],s=t.length;u>=0&&!a;)u==l?(r.push(u),l=t.indexOf(n,u+1)):r.length==1?a=[r.pop(),f]:(i=r.pop(),i<s&&(s=i,o=f),f=t.indexOf(e,u+1)),u=l<f&&l>=0?l:f;r.length&&(a=[s,o])}return a}});var Ko=b((dd,Xo)=>{var jo=qo();Xo.exports=Ju;var $o="\0SLASH"+Math.random()+"\0",Vo="\0OPEN"+Math.random()+"\0",Ln="\0CLOSE"+Math.random()+"\0",Ho="\0COMMA"+Math.random()+"\0",Zo="\0PERIOD"+Math.random()+"\0";function bn(n){return parseInt(n,10)==n?parseInt(n,10):n.charCodeAt(0)}function Xu(n){return n.split("\\\\").join($o).split("\\{").join(Vo).split("\\}").join(Ln).split("\\,").join(Ho).split("\\.").join(Zo)}function Ku(n){return n.split($o).join("\\").split(Vo).join("{").split(Ln).join("}").split(Ho).join(",").split(Zo).join(".")}function Yo(n){if(!n)return[""];var e=[],t=jo("{","}",n);if(!t)return n.split(",");var r=t.pre,i=t.body,s=t.post,o=r.split(",");o[o.length-1]+="{"+i+"}";var a=Yo(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function Ju(n){return n?(n.substr(0,2)==="{}"&&(n="\\{\\}"+n.substr(2)),It(Xu(n),!0).map(Ku)):[]}function Qu(n){return"{"+n+"}"}function ec(n){return/^-?0\d/.test(n)}function tc(n,e){return n<=e}function rc(n,e){return n>=e}function It(n,e){var t=[],r=jo("{","}",n);if(!r)return[n];var i=r.pre,s=r.post.length?It(r.post,!1):[""];if(/\$$/.test(r.pre))for(var o=0;o<s.length;o++){var a=i+"{"+r.body+"}"+s[o];t.push(a)}else{var l=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(r.body),f=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(r.body),u=l||f,h=r.body.indexOf(",")>=0;if(!u&&!h)return r.post.match(/,.*\}/)?(n=r.pre+"{"+r.body+Ln+r.post,It(n)):[n];var c;if(u)c=r.body.split(/\.\./);else if(c=Yo(r.body),c.length===1&&(c=It(c[0],!1).map(Qu),c.length===1))return s.map(function(G){return r.pre+c[0]+G});var d;if(u){var m=bn(c[0]),p=bn(c[1]),_=Math.max(c[0].length,c[1].length),v=c.length==3?Math.abs(bn(c[2])):1,C=tc,I=p<m;I&&(v*=-1,C=rc);var L=c.some(ec);d=[];for(var R=m;C(R,p);R+=v){var O;if(f)O=String.fromCharCode(R),O==="\\"&&(O="");else if(O=String(R),L){var k=_-O.length;if(k>0){var P=new Array(k+1).join("0");R<0?O="-"+P+O.slice(1):O=P+O}}d.push(O)}}else{d=[];for(var A=0;A<c.length;A++)d.push.apply(d,It(c[A],!1))}for(var A=0;A<d.length;A++)for(var o=0;o<s.length;o++){var a=i+d[A]+s[o];(!e||u||a)&&t.push(a)}}return t}});var dl=b(Rn=>{"use strict";Object.defineProperty(Rn,"__esModule",{value:!0});Rn.default=Wc;var Rt="diff-sequences",X=0,At=(n,e,t,r,i)=>{let s=0;for(;n<e&&t<r&&i(n,t);)n+=1,t+=1,s+=1;return s},Dt=(n,e,t,r,i)=>{let s=0;for(;n<=e&&t<=r&&i(e,r);)e-=1,r-=1,s+=1;return s},Nn=(n,e,t,r,i,s,o)=>{let a=0,l=-n,f=s[a],u=f;s[a]+=At(f+1,e,r+f-l+1,t,i);let h=n<o?n:o;for(a+=1,l+=2;a<=h;a+=1,l+=2){if(a!==n&&u<s[a])f=s[a];else if(f=u+1,e<=f)return a-1;u=s[a],s[a]=f+At(f+1,e,r+f-l+1,t,i)}return o},ul=(n,e,t,r,i,s,o)=>{let a=0,l=n,f=s[a],u=f;s[a]-=Dt(e,f-1,t,r+f-l-1,i);let h=n<o?n:o;for(a+=1,l-=2;a<=h;a+=1,l-=2){if(a!==n&&s[a]<u)f=s[a];else if(f=u-1,f<e)return a-1;u=s[a],s[a]=f-Dt(e,f-1,t,r+f-l-1,i)}return o},Bc=(n,e,t,r,i,s,o,a,l,f,u)=>{let h=r-e,c=t-e,m=i-r-c,p=-m-(n-1),_=-m+(n-1),v=X,C=n<a?n:a;for(let I=0,L=-n;I<=C;I+=1,L+=2){let R=I===0||I!==n&&v<o[I],O=R?o[I]:v,k=R?O:O+1,P=h+k-L,A=At(k+1,t,P+1,i,s),G=k+A;if(v=o[I],o[I]=G,p<=L&&L<=_){let fe=(n-1-(L+m))/2;if(fe<=f&&l[fe]-1<=G){let te=h+O-(R?L+1:L-1),g=Dt(e,O,r,te,s),w=O-g,x=te-g,y=w+1,T=x+1;u.nChangePreceding=n-1,n-1===y+T-e-r?(u.aEndPreceding=e,u.bEndPreceding=r):(u.aEndPreceding=y,u.bEndPreceding=T),u.nCommonPreceding=g,g!==0&&(u.aCommonPreceding=y,u.bCommonPreceding=T),u.nCommonFollowing=A,A!==0&&(u.aCommonFollowing=k+1,u.bCommonFollowing=P+1);let N=G+1,F=P+A+1;return u.nChangeFollowing=n-1,n-1===t+i-N-F?(u.aStartFollowing=t,u.bStartFollowing=i):(u.aStartFollowing=N,u.bStartFollowing=F),!0}}}return!1},zc=(n,e,t,r,i,s,o,a,l,f,u)=>{let h=i-t,c=t-e,m=i-r-c,p=m-n,_=m+n,v=X,C=n<f?n:f;for(let I=0,L=n;I<=C;I+=1,L-=2){let R=I===0||I!==n&&l[I]<v,O=R?l[I]:v,k=R?O:O-1,P=h+k-L,A=Dt(e,k-1,r,P-1,s),G=k-A;if(v=l[I],l[I]=G,p<=L&&L<=_){let fe=(n+(L-m))/2;if(fe<=a&&G-1<=o[fe]){let te=P-A;if(u.nChangePreceding=n,n===G+te-e-r?(u.aEndPreceding=e,u.bEndPreceding=r):(u.aEndPreceding=G,u.bEndPreceding=te),u.nCommonPreceding=A,A!==0&&(u.aCommonPreceding=G,u.bCommonPreceding=te),u.nChangeFollowing=n-1,n===1)u.nCommonFollowing=0,u.aStartFollowing=t,u.bStartFollowing=i;else{let g=h+O-(R?L-1:L+1),w=At(O,t,g,i,s);u.nCommonFollowing=w,w!==0&&(u.aCommonFollowing=O,u.bCommonFollowing=g);let x=O+w,y=g+w;n-1===t+i-x-y?(u.aStartFollowing=t,u.bStartFollowing=i):(u.aStartFollowing=x,u.bStartFollowing=y)}return!0}}}return!1},Gc=(n,e,t,r,i,s,o,a,l)=>{let f=r-e,u=i-t,h=t-e,c=i-r,d=c-h,m=h,p=h;if(o[0]=e-1,a[0]=t,d%2===0){let _=(n||d)/2,v=(h+c)/2;for(let C=1;C<=v;C+=1)if(m=Nn(C,t,i,f,s,o,m),C<_)p=ul(C,e,r,u,s,a,p);else if(zc(C,e,t,r,i,s,o,m,a,p,l))return}else{let _=((n||d)+1)/2,v=(h+c+1)/2,C=1;for(m=Nn(C,t,i,f,s,o,m),C+=1;C<=v;C+=1)if(p=ul(C-1,e,r,u,s,a,p),C<_)m=Nn(C,t,i,f,s,o,m);else if(Bc(C,e,t,r,i,s,o,m,a,p,l))return}throw new Error(`${Rt}: no overlap aStart=${e} aEnd=${t} bStart=${r} bEnd=${i}`)},Tn=(n,e,t,r,i,s,o,a,l,f)=>{if(i-r<t-e){if(s=!s,s&&o.length===1){let{foundSubsequence:G,isCommon:fe}=o[0];o[1]={foundSubsequence:(te,g,w)=>{G(te,w,g)},isCommon:(te,g)=>fe(g,te)}}let P=e,A=t;e=r,t=i,r=P,i=A}let{foundSubsequence:u,isCommon:h}=o[s?1:0];Gc(n,e,t,r,i,h,a,l,f);let{nChangePreceding:c,aEndPreceding:d,bEndPreceding:m,nCommonPreceding:p,aCommonPreceding:_,bCommonPreceding:v,nCommonFollowing:C,aCommonFollowing:I,bCommonFollowing:L,nChangeFollowing:R,aStartFollowing:O,bStartFollowing:k}=f;e<d&&r<m&&Tn(c,e,d,r,m,s,o,a,l,f),p!==0&&u(p,_,v),C!==0&&u(C,I,L),O<t&&k<i&&Tn(R,O,t,k,i,s,o,a,l,f)},cl=(n,e)=>{if(typeof e!="number")throw new TypeError(`${Rt}: ${n} typeof ${typeof e} is not a number`);if(!Number.isSafeInteger(e))throw new RangeError(`${Rt}: ${n} value ${e} is not a safe integer`);if(e<0)throw new RangeError(`${Rt}: ${n} value ${e} is a negative integer`)},hl=(n,e)=>{let t=typeof e;if(t!=="function")throw new TypeError(`${Rt}: ${n} typeof ${t} is not a function`)};function Wc(n,e,t,r){cl("aLength",n),cl("bLength",e),hl("isCommon",t),hl("foundSubsequence",r);let i=At(0,n,0,e,t);if(i!==0&&r(i,0,0),n!==i||e!==i){let s=i,o=i,a=Dt(s,n-1,o,e-1,t),l=n-a,f=e-a,u=i+a;n!==u&&e!==u&&Tn(0,s,l,o,f,!1,[{foundSubsequence:r,isCommon:t}],[X],[X],{aCommonFollowing:X,aCommonPreceding:X,aEndPreceding:X,aStartFollowing:X,bCommonFollowing:X,bCommonPreceding:X,bEndPreceding:X,bStartFollowing:X,nChangeFollowing:X,nChangePreceding:X,nCommonFollowing:X,nCommonPreceding:X}),a!==0&&r(a,l,f)}}});var vl=b((Yd,Sl)=>{"use strict";function Zc(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Yc=new Int32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function yl(n){if(Buffer.isBuffer(n))return n;if(typeof n=="number")return Buffer.alloc(n);if(typeof n=="string")return Buffer.from(n);throw new Error("input must be buffer, number, or string, received "+typeof n)}function Xc(n){let e=yl(4);return e.writeInt32BE(n,0),e}function Mn(n,e){n=yl(n),Buffer.isBuffer(e)&&(e=e.readUInt32BE(0));let t=~~e^-1;for(var r=0;r<n.length;r++)t=Yc[(t^n[r])&255]^t>>>8;return t^-1}function Pn(){return Xc(Mn.apply(null,arguments))}Pn.signed=function(){return Mn.apply(null,arguments)};Pn.unsigned=function(){return Mn.apply(null,arguments)>>>0};var Kc=Pn,Jc=Zc(Kc);Sl.exports=Jc});var zl=b(Wn=>{var xl=require("fs"),mr=require("stream").Transform,Ll=require("stream").PassThrough,Ol=require("zlib"),zn=require("util"),Qc=require("events").EventEmitter,eh=require("events").errorMonitor,Il=vl();Wn.ZipFile=Ne;Wn.dateToDosDateTime=Bl;zn.inherits(Ne,Qc);function Ne(){this.outputStream=new Ll,this.entries=[],this.outputStreamCursor=0,this.ended=!1,this.allDone=!1,this.forceZip64Eocd=!1,this.errored=!1,this.on(eh,function(){this.errored=!0})}Ne.prototype.addFile=function(n,e,t){var r=this;if(e=_r(e,!1),t==null&&(t={}),!gr(r)){var i=new D(e,!1,t);r.entries.push(i),xl.stat(n,function(s,o){if(s)return r.emit("error",s);if(!o.isFile())return r.emit("error",new Error("not a file: "+n));i.uncompressedSize=o.size,t.mtime==null&&i.setLastModDate(o.mtime),t.mode==null&&i.setFileAttributesMode(o.mode),i.setFileDataPumpFunction(function(){var a=xl.createReadStream(n);i.state=D.FILE_DATA_IN_PROGRESS,a.on("error",function(l){r.emit("error",l)}),Nl(r,i,a)}),Ie(r)})}};Ne.prototype.addReadStream=function(n,e,t){this.addReadStreamLazy(e,t,function(r){r(null,n)})};Ne.prototype.addReadStreamLazy=function(n,e,t){var r=this;if(typeof e=="function"&&(t=e,e=null),e==null&&(e={}),n=_r(n,!1),!gr(r)){var i=new D(n,!1,e);r.entries.push(i),i.setFileDataPumpFunction(function(){t(function(s,o){if(s)return r.emit("error",s);i.state=D.FILE_DATA_IN_PROGRESS,Nl(r,i,o)})}),Ie(r)}};Ne.prototype.addBuffer=function(n,e,t){var r=this;if(e=_r(e,!1),n.length>1073741823)throw new Error("buffer too large: "+n.length+" > 1073741823");if(t==null&&(t={}),t.size!=null)throw new Error("options.size not allowed");if(gr(r))return;var i=new D(e,!1,t);i.uncompressedSize=n.length,i.crc32=Il.unsigned(n),i.crcAndFileSizeKnown=!0,r.entries.push(i),i.compressionLevel===0?s(n):Ol.deflateRaw(n,{level:i.compressionLevel},function(o,a){s(a)});function s(o){i.compressedSize=o.length,i.setFileDataPumpFunction(function(){Ge(r,o),Ge(r,i.getDataDescriptor()),i.state=D.FILE_DATA_DONE,setImmediate(function(){Ie(r)})}),Ie(r)}};Ne.prototype.addEmptyDirectory=function(n,e){var t=this;if(n=_r(n,!0),e==null&&(e={}),e.size!=null)throw new Error("options.size not allowed");if(e.compress!=null)throw new Error("options.compress not allowed");if(e.compressionLevel!=null)throw new Error("options.compressionLevel not allowed");if(!gr(t)){var r=new D(n,!0,e);t.entries.push(r),r.setFileDataPumpFunction(function(){Ge(t,r.getDataDescriptor()),r.state=D.FILE_DATA_DONE,Ie(t)}),Ie(t)}};var th=Oe([80,75,5,6]);Ne.prototype.end=function(n,e){if(typeof n=="function"&&(e=n,n=null),n==null&&(n={}),!this.ended&&(this.ended=!0,!this.errored)){if(this.calculatedTotalSizeCallback=e,this.forceZip64Eocd=!!n.forceZip64Format,n.comment){if(typeof n.comment=="string"?this.comment=sh(n.comment):this.comment=n.comment,this.comment.length>65535)throw new Error("comment is too large");if(Mt(this.comment,th))throw new Error("comment contains end of central directory record signature")}else this.comment=Pt;Ie(this)}};function Ge(n,e){n.outputStream.write(e),n.outputStreamCursor+=e.length}function Nl(n,e,t){var r=new Gn,i=new pr,s=e.compressionLevel!==0?new Ol.DeflateRaw({level:e.compressionLevel}):new Ll,o=new pr;t.pipe(r).pipe(i).pipe(s).pipe(o).pipe(n.outputStream,{end:!1}),o.on("end",function(){if(e.crc32=r.crc32,e.uncompressedSize==null)e.uncompressedSize=i.byteCount;else if(e.uncompressedSize!==i.byteCount)return n.emit("error",new Error("file data stream has unexpected number of bytes"));e.compressedSize=o.byteCount,n.outputStreamCursor+=e.compressedSize,Ge(n,e.getDataDescriptor()),e.state=D.FILE_DATA_DONE,Ie(n)})}function rh(n){if(n.compress!=null&&n.compressionLevel!=null&&!!n.compress!=!!n.compressionLevel)throw new Error("conflicting settings for compress and compressionLevel");return n.compressionLevel!=null?n.compressionLevel:n.compress===!1?0:6}function Ie(n){if(n.allDone||n.errored)return;if(n.ended&&n.calculatedTotalSizeCallback!=null){var e=nh(n);e!=null&&(n.calculatedTotalSizeCallback(e),n.calculatedTotalSizeCallback=null)}var t=r();function r(){for(var s=0;s<n.entries.length;s++){var o=n.entries[s];if(o.state<D.FILE_DATA_DONE)return o}return null}if(t!=null){if(t.state<D.READY_TO_PUMP_FILE_DATA||t.state===D.FILE_DATA_IN_PROGRESS)return;t.relativeOffsetOfLocalHeader=n.outputStreamCursor;var i=t.getLocalFileHeader();Ge(n,i),t.doFileDataPump()}else n.ended&&(n.offsetOfStartOfCentralDirectory=n.outputStreamCursor,n.entries.forEach(function(s){var o=s.getCentralDirectoryRecord();Ge(n,o)}),Ge(n,ih(n)),n.outputStream.end(),n.allDone=!0)}function nh(n){for(var e=0,t=0,r=0;r<n.entries.length;r++){var i=n.entries[r];if(i.compressionLevel!==0)return-1;if(i.state>=D.READY_TO_PUMP_FILE_DATA){if(i.uncompressedSize==null)return-1}else if(i.uncompressedSize==null)return null;i.relativeOffsetOfLocalHeader=e;var s=i.useZip64Format();e+=Tl+i.utf8FileName.length,e+=i.uncompressedSize,i.crcAndFileSizeKnown||(s?e+=Ul:e+=Fl),t+=kl+i.utf8FileName.length+i.fileComment.length,i.forceDosTimestamp||(t+=Un),s&&(t+=kn)}var o=0;return(n.forceZip64Eocd||n.entries.length>=65535||t>=65535||e>=4294967295)&&(o+=hr+Fn),o+=dr+n.comment.length,e+t+o}function gr(n){if(n.ended)throw new Error("cannot add entries after calling end()");return!!n.errored}var hr=56,Fn=20,dr=22;function ih(n,e){var t=!1,r=n.entries.length;(n.forceZip64Eocd||n.entries.length>=65535)&&(r=65535,t=!0);var i=n.outputStreamCursor-n.offsetOfStartOfCentralDirectory,s=i;(n.forceZip64Eocd||i>=4294967295)&&(s=4294967295,t=!0);var o=n.offsetOfStartOfCentralDirectory;if((n.forceZip64Eocd||n.offsetOfStartOfCentralDirectory>=4294967295)&&(o=4294967295,t=!0),e)return t?hr+Fn+dr:dr;var a=J(dr+n.comment.length);if(a.writeUInt32LE(101010256,0),a.writeUInt16LE(0,4),a.writeUInt16LE(0,6),a.writeUInt16LE(r,8),a.writeUInt16LE(r,10),a.writeUInt32LE(s,12),a.writeUInt32LE(o,16),a.writeUInt16LE(n.comment.length,20),n.comment.copy(a,22),!t)return a;var l=J(hr);l.writeUInt32LE(101075792,0),pe(l,hr-12,4),l.writeUInt16LE(Dl,12),l.writeUInt16LE(Al,14),l.writeUInt32LE(0,16),l.writeUInt32LE(0,20),pe(l,n.entries.length,24),pe(l,n.entries.length,32),pe(l,i,40),pe(l,n.offsetOfStartOfCentralDirectory,48);var f=J(Fn);return f.writeUInt32LE(117853008,0),f.writeUInt32LE(0,4),pe(f,n.outputStreamCursor,8),f.writeUInt32LE(1,16),Buffer.concat([l,f,a])}function _r(n,e){if(n==="")throw new Error("empty metadataPath");if(n=n.replace(/\\/g,"/"),/^[a-zA-Z]:/.test(n)||/^\//.test(n))throw new Error("absolute path: "+n);if(n.split("/").indexOf("..")!==-1)throw new Error("invalid relative path: "+n);var t=/\/$/.test(n);if(e)t||(n+="/");else if(t)throw new Error("file path cannot end with '/': "+n);return n}var Pt=J(0);function D(n,e,t){if(this.utf8FileName=Oe(n),this.utf8FileName.length>65535)throw new Error("utf8 file name too long. "+utf8FileName.length+" > 65535");if(this.isDirectory=e,this.state=D.WAITING_FOR_METADATA,this.setLastModDate(t.mtime!=null?t.mtime:new Date),this.forceDosTimestamp=!!t.forceDosTimestamp,t.mode!=null?this.setFileAttributesMode(t.mode):this.setFileAttributesMode(e?16893:33204),e?(this.crcAndFileSizeKnown=!0,this.crc32=0,this.uncompressedSize=0,this.compressedSize=0):(this.crcAndFileSizeKnown=!1,this.crc32=null,this.uncompressedSize=null,this.compressedSize=null,t.size!=null&&(this.uncompressedSize=t.size)),e?this.compressionLevel=0:this.compressionLevel=rh(t),this.forceZip64Format=!!t.forceZip64Format,t.fileComment){if(typeof t.fileComment=="string"?this.fileComment=Oe(t.fileComment,"utf-8"):this.fileComment=t.fileComment,this.fileComment.length>65535)throw new Error("fileComment is too large")}else this.fileComment=Pt}D.WAITING_FOR_METADATA=0;D.READY_TO_PUMP_FILE_DATA=1;D.FILE_DATA_IN_PROGRESS=2;D.FILE_DATA_DONE=3;D.prototype.setLastModDate=function(n){this.mtime=n;var e=Bl(n);this.lastModFileTime=e.time,this.lastModFileDate=e.date};D.prototype.setFileAttributesMode=function(n){if((n&65535)!==n)throw new Error("invalid mode. expected: 0 <= "+n+" <= 65535");this.externalFileAttributes=n<<16>>>0};D.prototype.setFileDataPumpFunction=function(n){this.doFileDataPump=n,this.state=D.READY_TO_PUMP_FILE_DATA};D.prototype.useZip64Format=function(){return this.forceZip64Format||this.uncompressedSize!=null&&this.uncompressedSize>4294967294||this.compressedSize!=null&&this.compressedSize>4294967294||this.relativeOffsetOfLocalHeader!=null&&this.relativeOffsetOfLocalHeader>4294967294};var Tl=30,Rl=20,Al=45,Dl=831,Ml=2048,Pl=8;D.prototype.getLocalFileHeader=function(){var n=0,e=0,t=0;this.crcAndFileSizeKnown&&(n=this.crc32,e=this.compressedSize,t=this.uncompressedSize);var r=J(Tl),i=Ml;return this.crcAndFileSizeKnown||(i|=Pl),r.writeUInt32LE(67324752,0),r.writeUInt16LE(Rl,4),r.writeUInt16LE(i,6),r.writeUInt16LE(this.getCompressionMethod(),8),r.writeUInt16LE(this.lastModFileTime,10),r.writeUInt16LE(this.lastModFileDate,12),r.writeUInt32LE(n,14),r.writeUInt32LE(e,18),r.writeUInt32LE(t,22),r.writeUInt16LE(this.utf8FileName.length,26),r.writeUInt16LE(0,28),Buffer.concat([r,this.utf8FileName])};var Fl=16,Ul=24;D.prototype.getDataDescriptor=function(){if(this.crcAndFileSizeKnown)return Pt;if(this.useZip64Format()){var n=J(Ul);return n.writeUInt32LE(134695760,0),n.writeUInt32LE(this.crc32,4),pe(n,this.compressedSize,8),pe(n,this.uncompressedSize,16),n}else{var n=J(Fl);return n.writeUInt32LE(134695760,0),n.writeUInt32LE(this.crc32,4),n.writeUInt32LE(this.compressedSize,8),n.writeUInt32LE(this.uncompressedSize,12),n}};var kl=46,Un=9,kn=28;D.prototype.getCentralDirectoryRecord=function(){var n=J(kl),e=Ml;this.crcAndFileSizeKnown||(e|=Pl);var t=Pt;if(!this.forceDosTimestamp){t=J(Un),t.writeUInt16LE(21589,0),t.writeUInt16LE(Un-4,2);var r=1,i=2;t.writeUInt8(r|i,4);var s=Math.floor(this.mtime.getTime()/1e3);s<-2147483648&&(s=-2147483648),s>2147483647&&(s=2147483647),t.writeUInt32LE(s,5)}var o=this.compressedSize,a=this.uncompressedSize,l=this.relativeOffsetOfLocalHeader,f=Rl,u=Pt;return this.useZip64Format()&&(o=4294967295,a=4294967295,l=4294967295,f=Al,u=J(kn),u.writeUInt16LE(1,0),u.writeUInt16LE(kn-4,2),pe(u,this.uncompressedSize,4),pe(u,this.compressedSize,12),pe(u,this.relativeOffsetOfLocalHeader,20)),n.writeUInt32LE(33639248,0),n.writeUInt16LE(Dl,4),n.writeUInt16LE(f,6),n.writeUInt16LE(e,8),n.writeUInt16LE(this.getCompressionMethod(),10),n.writeUInt16LE(this.lastModFileTime,12),n.writeUInt16LE(this.lastModFileDate,14),n.writeUInt32LE(this.crc32,16),n.writeUInt32LE(o,20),n.writeUInt32LE(a,24),n.writeUInt16LE(this.utf8FileName.length,28),n.writeUInt16LE(t.length+u.length,30),n.writeUInt16LE(this.fileComment.length,32),n.writeUInt16LE(0,34),n.writeUInt16LE(0,36),n.writeUInt32LE(this.externalFileAttributes,38),n.writeUInt32LE(l,42),Buffer.concat([n,this.utf8FileName,t,u,this.fileComment])};D.prototype.getCompressionMethod=function(){var n=0,e=8;return this.compressionLevel===0?n:e};var Cl=new Date(1980,0,1),bl=new Date(2107,11,31,23,59,58);function Bl(n){n<Cl?n=Cl:n>bl&&(n=bl);var e=0;e|=n.getDate()&31,e|=(n.getMonth()+1&15)<<5,e|=(n.getFullYear()-1980&127)<<9;var t=0;return t|=Math.floor(n.getSeconds()/2),t|=(n.getMinutes()&63)<<5,t|=(n.getHours()&31)<<11,{date:e,time:t}}function pe(n,e,t){var r=Math.floor(e/4294967296),i=e%4294967296;n.writeUInt32LE(i,t),n.writeUInt32LE(r,t+4)}zn.inherits(pr,mr);function pr(n){mr.call(this,n),this.byteCount=0}pr.prototype._transform=function(n,e,t){this.byteCount+=n.length,t(null,n)};zn.inherits(Gn,mr);function Gn(n){mr.call(this,n),this.crc32=0}Gn.prototype._transform=function(n,e,t){this.crc32=Il.unsigned(n,this.crc32),t(null,n)};var Bn="\0\u263A\u263B\u2665\u2666\u2663\u2660\u2022\u25D8\u25CB\u25D9\u2642\u2640\u266A\u266B\u263C\u25BA\u25C4\u2195\u203C\xB6\xA7\u25AC\u21A8\u2191\u2193\u2192\u2190\u221F\u2194\u25B2\u25BC !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\u2302\xC7\xFC\xE9\xE2\xE4\xE0\xE5\xE7\xEA\xEB\xE8\xEF\xEE\xEC\xC4\xC5\xC9\xE6\xC6\xF4\xF6\xF2\xFB\xF9\xFF\xD6\xDC\xA2\xA3\xA5\u20A7\u0192\xE1\xED\xF3\xFA\xF1\xD1\xAA\xBA\xBF\u2310\xAC\xBD\xBC\xA1\xAB\xBB\u2591\u2592\u2593\u2502\u2524\u2561\u2562\u2556\u2555\u2563\u2551\u2557\u255D\u255C\u255B\u2510\u2514\u2534\u252C\u251C\u2500\u253C\u255E\u255F\u255A\u2554\u2569\u2566\u2560\u2550\u256C\u2567\u2568\u2564\u2565\u2559\u2558\u2552\u2553\u256B\u256A\u2518\u250C\u2588\u2584\u258C\u2590\u2580\u03B1\xDF\u0393\u03C0\u03A3\u03C3\xB5\u03C4\u03A6\u0398\u03A9\u03B4\u221E\u03C6\u03B5\u2229\u2261\xB1\u2265\u2264\u2320\u2321\xF7\u2248\xB0\u2219\xB7\u221A\u207F\xB2\u25A0\xA0";if(Bn.length!==256)throw new Error("assertion failure");var cr=null;function sh(n){if(/^[\x20-\x7e]*$/.test(n))return Oe(n,"utf-8");if(cr==null){cr={};for(var e=0;e<Bn.length;e++)cr[Bn[e]]=e}for(var t=J(n.length),e=0;e<n.length;e++){var r=cr[n[e]];if(r==null)throw new Error("character not encodable in CP437: "+JSON.stringify(n[e]));t[e]=r}return t}function J(n){J=e;try{return J(n)}catch{return J=t,J(n)}function e(r){return Buffer.allocUnsafe(r)}function t(r){return new Buffer(r)}}function Oe(n,e){Oe=t;try{return Oe(n,e)}catch{return Oe=r,Oe(n,e)}function t(i,s){return Buffer.from(i,s)}function r(i,s){return new Buffer(i,s)}}function Mt(n,e){Mt=t;try{return Mt(n,e)}catch{return Mt=r,Mt(n,e)}function t(i,s){return i.includes(s)}function r(i,s){for(var o=0;o<=i.length-s.length;o++)for(var a=0;;a++){if(a===s.length)return!0;if(i[o+a]!==s[a])break}return!1}}});var Vl=b((Jd,$l)=>{var le=require("fs"),oh=require("util"),nt=require("path"),Yn=require("events"),Gl=require("zlib"),jl=require("stream"),E={LOCHDR:30,LOCSIG:67324752,LOCVER:4,LOCFLG:6,LOCHOW:8,LOCTIM:10,LOCCRC:14,LOCSIZ:18,LOCLEN:22,LOCNAM:26,LOCEXT:28,EXTSIG:134695760,EXTHDR:16,EXTCRC:4,EXTSIZ:8,EXTLEN:12,CENHDR:46,CENSIG:33639248,CENVEM:4,CENVER:6,CENFLG:8,CENHOW:10,CENTIM:12,CENCRC:16,CENSIZ:20,CENLEN:24,CENNAM:28,CENEXT:30,CENCOM:32,CENDSK:34,CENATT:36,CENATX:38,CENOFF:42,ENDHDR:22,ENDSIG:101010256,ENDSIGFIRST:80,ENDSUB:8,ENDTOT:10,ENDSIZ:12,ENDOFF:16,ENDCOM:20,MAXFILECOMMENT:65535,ENDL64HDR:20,ENDL64SIG:117853008,ENDL64SIGFIRST:80,ENDL64OFS:8,END64HDR:56,END64SIG:101075792,END64SIGFIRST:80,END64SUB:24,END64TOT:32,END64SIZ:40,END64OFF:48,STORED:0,SHRUNK:1,REDUCED1:2,REDUCED2:3,REDUCED3:4,REDUCED4:5,IMPLODED:6,DEFLATED:8,ENHANCED_DEFLATED:9,PKWARE:10,BZIP2:12,LZMA:14,IBM_TERSE:18,IBM_LZ77:19,FLG_ENC:0,FLG_COMP1:1,FLG_COMP2:2,FLG_DESC:4,FLG_ENH:8,FLG_STR:16,FLG_LNG:1024,FLG_MSK:4096,FLG_ENTRY_ENC:1,EF_ID:0,EF_SIZE:2,ID_ZIP64:1,ID_AVINFO:7,ID_PFS:8,ID_OS2:9,ID_NTFS:10,ID_OPENVMS:12,ID_UNIX:13,ID_FORK:14,ID_PATCH:15,ID_X509_PKCS7:20,ID_X509_CERTID_F:21,ID_X509_CERTID_C:22,ID_STRONGENC:23,ID_RECORD_MGT:24,ID_X509_PKCS7_RL:25,ID_IBM1:101,ID_IBM2:102,ID_POSZIP:18064,EF_ZIP64_OR_32:4294967295,EF_ZIP64_OR_16:65535},De=function(n){let e,t,r,i,s,o,l=this,f=n.storeEntries!==!1?{}:null,u=n.file,h=n.nameEncoding?new TextDecoder(n.nameEncoding):null;c();function c(){n.fd?(e=n.fd,d()):le.open(u,"r",(g,w)=>{if(g)return l.emit("error",g);e=w,d()})}function d(){le.fstat(e,(g,w)=>{if(g)return l.emit("error",g);t=w.size,r=n.chunkSize||Math.round(t/1e3),r=Math.max(Math.min(r,Math.min(128*1024,t)),Math.min(1024,t)),p()})}function m(g,w){if(g||!w)return l.emit("error",g||new Error("Archive read error"));let x=i.lastPos,y=x-i.win.position,T=i.win.buffer,N=i.minPos;for(;--x>=N&&--y>=0;)if(T.length-y>=4&&T[y]===i.firstByte&&T.readUInt32LE(y)===i.sig){i.lastBufferPosition=y,i.lastBytesRead=w,i.complete();return}if(x===N)return l.emit("error",new Error("Bad archive"));if(i.lastPos=x+1,i.chunkSize*=2,x<=N)return l.emit("error",new Error("Bad archive"));let F=Math.min(i.chunkSize,x-N);i.win.expandLeft(F,m)}function p(){let g=Math.min(E.ENDHDR+E.MAXFILECOMMENT,t);i={win:new Er(e),totalReadLength:g,minPos:t-g,lastPos:t,chunkSize:Math.min(1024,r),firstByte:E.ENDSIGFIRST,sig:E.ENDSIG,complete:_},i.win.read(t-i.chunkSize,i.chunkSize,m)}function _(){let g=i.win.buffer,w=i.lastBufferPosition;try{s=new qn,s.read(g.slice(w,w+E.ENDHDR)),s.headerOffset=i.win.position+w,s.commentLength?l.comment=g.slice(w+E.ENDHDR,w+E.ENDHDR+s.commentLength).toString():l.comment=null,l.entriesCount=s.volumeEntries,l.centralDirectory=s,s.volumeEntries===E.EF_ZIP64_OR_16&&s.totalEntries===E.EF_ZIP64_OR_16||s.size===E.EF_ZIP64_OR_32||s.offset===E.EF_ZIP64_OR_32?v():(i={},L())}catch(x){l.emit("error",x)}}function v(){let g=E.ENDL64HDR;i.lastBufferPosition>g?(i.lastBufferPosition-=g,C()):(i={win:i.win,totalReadLength:g,minPos:i.win.position-g,lastPos:i.win.position,chunkSize:i.chunkSize,firstByte:E.ENDL64SIGFIRST,sig:E.ENDL64SIG,complete:C},i.win.read(i.lastPos-i.chunkSize,i.chunkSize,m))}function C(){let g=i.win.buffer,w=new jn;w.read(g.slice(i.lastBufferPosition,i.lastBufferPosition+E.ENDL64HDR));let x=t-w.headerOffset;i={win:i.win,totalReadLength:x,minPos:w.headerOffset,lastPos:i.lastPos,chunkSize:i.chunkSize,firstByte:E.END64SIGFIRST,sig:E.END64SIG,complete:I},i.win.read(t-i.chunkSize,i.chunkSize,m)}function I(){let g=i.win.buffer,w=new $n;w.read(g.slice(i.lastBufferPosition,i.lastBufferPosition+E.END64HDR)),l.centralDirectory.volumeEntries=w.volumeEntries,l.centralDirectory.totalEntries=w.totalEntries,l.centralDirectory.size=w.size,l.centralDirectory.offset=w.offset,l.entriesCount=w.volumeEntries,i={},L()}function L(){i={win:new Er(e),pos:s.offset,chunkSize:r,entriesLeft:s.volumeEntries},i.win.read(i.pos,Math.min(r,t-i.pos),R)}function R(g,w){if(g||!w)return l.emit("error",g||new Error("Entries read error"));let x=i.pos-i.win.position,y=i.entry,T=i.win.buffer,N=T.length;try{for(;i.entriesLeft>0;){y||(y=new Vn,y.readHeader(T,x),y.headerOffset=i.win.position+x,i.entry=y,i.pos+=E.CENHDR,x+=E.CENHDR);let F=y.fnameLen+y.extraLen+y.comLen,q=F+(i.entriesLeft>1?E.CENHDR:0);if(N-x<q){i.win.moveRight(r,R,x),i.move=!0;return}y.read(T,x,h),n.skipEntryNameValidation||y.validateName(),f&&(f[y.name]=y),l.emit("entry",y),i.entry=y=null,i.entriesLeft--,i.pos+=F,x+=F}l.emit("ready")}catch(F){l.emit("error",F)}}function O(){if(!f)throw new Error("storeEntries disabled")}Object.defineProperty(this,"ready",{get(){return!1}}),this.entry=function(g){return O(),f[g]},this.entries=function(){return O(),f},this.stream=function(g,w){return this.openEntry(g,(x,y)=>{if(x)return w(x);let T=k(y),N=new Hn(e,T,y.compressedSize);if(y.method!==E.STORED)if(y.method===E.DEFLATED)N=N.pipe(Gl.createInflateRaw());else return w(new Error("Unknown compression method: "+y.method));P(y)&&(N=N.pipe(new Zn(N,y.crc,y.size))),w(null,N)},!1)},this.entryDataSync=function(g){let w=null;if(this.openEntry(g,(y,T)=>{w=y,g=T},!0),w)throw w;let x=Buffer.alloc(g.compressedSize);if(new Re(e,x,0,g.compressedSize,k(g),y=>{w=y}).read(!0),w)throw w;if(g.method!==E.STORED)if(g.method===E.DEFLATED||g.method===E.ENHANCED_DEFLATED)x=Gl.inflateRawSync(x);else throw new Error("Unknown compression method: "+g.method);if(x.length!==g.size)throw new Error("Invalid size");return P(g)&&new wr(g.crc,g.size).data(x),x},this.openEntry=function(g,w,x){if(typeof g=="string"&&(O(),g=f[g],!g))return w(new Error("Entry not found"));if(!g.isFile)return w(new Error("Entry is not file"));if(!e)return w(new Error("Archive closed"));let y=Buffer.alloc(E.LOCHDR);new Re(e,y,0,y.length,g.offset,T=>{if(T)return w(T);let N;try{g.readDataHeader(y),g.encrypted&&(N=new Error("Entry encrypted"))}catch(F){N=F}w(N,g)}).read(x)};function k(g){return g.offset+E.LOCHDR+g.fnameLen+g.extraLen}function P(g){return(g.flags&8)!==8}function A(g,w,x){l.stream(g,(y,T)=>{if(y)x(y);else{let N,F;T.on("error",q=>{F=q,N&&(T.unpipe(N),N.close(()=>{x(q)}))}),le.open(w,"w",(q,ue)=>{if(q)return x(q);if(F){le.close(e,()=>{x(F)});return}N=le.createWriteStream(w,{fd:ue}),N.on("finish",()=>{l.emit("extract",g,w),F||x()}),T.pipe(N)})}})}function G(g,w,x){if(!w.length)return x();let y=w.shift();y=nt.join(g,nt.join(...y)),le.mkdir(y,{recursive:!0},T=>{if(T&&T.code!=="EEXIST")return x(T);G(g,w,x)})}function fe(g,w,x,y,T){if(!x.length)return y(null,T);let N=x.shift(),F=nt.join(g,N.name.replace(w,""));A(N,F,q=>{if(q)return y(q,T);fe(g,w,x,y,T+1)})}this.extract=function(g,w,x){let y=g||"";if(typeof g=="string"&&(g=this.entry(g),g?y=g.name:y.length&&y[y.length-1]!=="/"&&(y+="/")),!g||g.isDirectory){let T=[],N=[],F={};for(let q in f)if(Object.prototype.hasOwnProperty.call(f,q)&&q.lastIndexOf(y,0)===0){let ue=q.replace(y,""),Kn=f[q];if(Kn.isFile&&(T.push(Kn),ue=nt.dirname(ue)),ue&&!F[ue]&&ue!=="."){F[ue]=!0;let ve=ue.split("/").filter(it=>it);for(ve.length&&N.push(ve);ve.length>1;){ve=ve.slice(0,ve.length-1);let it=ve.join("/");if(F[it]||it===".")break;F[it]=!0,N.push(ve)}}}N.sort((q,ue)=>q.length-ue.length),N.length?G(w,N,q=>{q?x(q):fe(w,y,T,x,0)}):fe(w,y,T,x,0)}else le.stat(w,(T,N)=>{N&&N.isDirectory()?A(g,nt.join(w,nt.basename(g.name)),x):A(g,w,x)})},this.close=function(g){o||!e?(o=!0,g&&g()):(o=!0,le.close(e,w=>{e=null,g&&g(w)}))};let te=Yn.EventEmitter.prototype.emit;this.emit=function(...g){if(!o)return te.call(this,...g)}};De.setFs=function(n){le=n};De.debugLog=(...n)=>{De.debug&&console.log(...n)};oh.inherits(De,Yn.EventEmitter);var Te=Symbol("zip");De.async=class extends Yn.EventEmitter{constructor(e){super();let t=new De(e);t.on("entry",r=>this.emit("entry",r)),t.on("extract",(r,i)=>this.emit("extract",r,i)),this[Te]=new Promise((r,i)=>{t.on("ready",()=>{t.removeListener("error",i),r(t)}),t.on("error",i)})}get entriesCount(){return this[Te].then(e=>e.entriesCount)}get comment(){return this[Te].then(e=>e.comment)}async entry(e){return(await this[Te]).entry(e)}async entries(){return(await this[Te]).entries()}async stream(e){let t=await this[Te];return new Promise((r,i)=>{t.stream(e,(s,o)=>{s?i(s):r(o)})})}async entryData(e){let t=await this.stream(e);return new Promise((r,i)=>{let s=[];t.on("data",o=>s.push(o)),t.on("end",()=>{r(Buffer.concat(s))}),t.on("error",o=>{t.removeAllListeners("end"),i(o)})})}async extract(e,t){let r=await this[Te];return new Promise((i,s)=>{r.extract(e,t,(o,a)=>{o?s(o):i(a)})})}async close(){let e=await this[Te];return new Promise((t,r)=>{e.close(i=>{i?r(i):t()})})}};var qn=class{read(e){if(e.length!==E.ENDHDR||e.readUInt32LE(0)!==E.ENDSIG)throw new Error("Invalid central directory");this.volumeEntries=e.readUInt16LE(E.ENDSUB),this.totalEntries=e.readUInt16LE(E.ENDTOT),this.size=e.readUInt32LE(E.ENDSIZ),this.offset=e.readUInt32LE(E.ENDOFF),this.commentLength=e.readUInt16LE(E.ENDCOM)}},jn=class{read(e){if(e.length!==E.ENDL64HDR||e.readUInt32LE(0)!==E.ENDL64SIG)throw new Error("Invalid zip64 central directory locator");this.headerOffset=Ae(e,E.ENDSUB)}},$n=class{read(e){if(e.length!==E.END64HDR||e.readUInt32LE(0)!==E.END64SIG)throw new Error("Invalid central directory");this.volumeEntries=Ae(e,E.END64SUB),this.totalEntries=Ae(e,E.END64TOT),this.size=Ae(e,E.END64SIZ),this.offset=Ae(e,E.END64OFF)}},Vn=class{readHeader(e,t){if(e.length<t+E.CENHDR||e.readUInt32LE(t)!==E.CENSIG)throw new Error("Invalid entry header");this.verMade=e.readUInt16LE(t+E.CENVEM),this.version=e.readUInt16LE(t+E.CENVER),this.flags=e.readUInt16LE(t+E.CENFLG),this.method=e.readUInt16LE(t+E.CENHOW);let r=e.readUInt16LE(t+E.CENTIM),i=e.readUInt16LE(t+E.CENTIM+2);this.time=Wl(r,i),this.crc=e.readUInt32LE(t+E.CENCRC),this.compressedSize=e.readUInt32LE(t+E.CENSIZ),this.size=e.readUInt32LE(t+E.CENLEN),this.fnameLen=e.readUInt16LE(t+E.CENNAM),this.extraLen=e.readUInt16LE(t+E.CENEXT),this.comLen=e.readUInt16LE(t+E.CENCOM),this.diskStart=e.readUInt16LE(t+E.CENDSK),this.inattr=e.readUInt16LE(t+E.CENATT),this.attr=e.readUInt32LE(t+E.CENATX),this.offset=e.readUInt32LE(t+E.CENOFF)}readDataHeader(e){if(e.readUInt32LE(0)!==E.LOCSIG)throw new Error("Invalid local header");this.version=e.readUInt16LE(E.LOCVER),this.flags=e.readUInt16LE(E.LOCFLG),this.method=e.readUInt16LE(E.LOCHOW);let t=e.readUInt16LE(E.LOCTIM),r=e.readUInt16LE(E.LOCTIM+2);this.time=Wl(t,r),this.crc=e.readUInt32LE(E.LOCCRC)||this.crc;let i=e.readUInt32LE(E.LOCSIZ);i&&i!==E.EF_ZIP64_OR_32&&(this.compressedSize=i);let s=e.readUInt32LE(E.LOCLEN);s&&s!==E.EF_ZIP64_OR_32&&(this.size=s),this.fnameLen=e.readUInt16LE(E.LOCNAM),this.extraLen=e.readUInt16LE(E.LOCEXT)}read(e,t,r){let i=e.slice(t,t+=this.fnameLen);this.name=r?r.decode(new Uint8Array(i)):i.toString("utf8");let s=e[t-1];this.isDirectory=s===47||s===92,this.extraLen&&(this.readExtra(e,t),t+=this.extraLen),this.comment=this.comLen?e.slice(t,t+this.comLen).toString():null}validateName(){if(/\\|^\w+:|^\/|(^|\/)\.\.(\/|$)/.test(this.name))throw new Error("Malicious entry: "+this.name)}readExtra(e,t){let r,i,s=t+this.extraLen;for(;t<s;)r=e.readUInt16LE(t),t+=2,i=e.readUInt16LE(t),t+=2,E.ID_ZIP64===r&&this.parseZip64Extra(e,t,i),t+=i}parseZip64Extra(e,t,r){r>=8&&this.size===E.EF_ZIP64_OR_32&&(this.size=Ae(e,t),t+=8,r-=8),r>=8&&this.compressedSize===E.EF_ZIP64_OR_32&&(this.compressedSize=Ae(e,t),t+=8,r-=8),r>=8&&this.offset===E.EF_ZIP64_OR_32&&(this.offset=Ae(e,t),t+=8,r-=8),r>=4&&this.diskStart===E.EF_ZIP64_OR_16&&(this.diskStart=e.readUInt32LE(t))}get encrypted(){return(this.flags&E.FLG_ENTRY_ENC)===E.FLG_ENTRY_ENC}get isFile(){return!this.isDirectory}},Re=class{constructor(e,t,r,i,s,o){this.fd=e,this.buffer=t,this.offset=r,this.length=i,this.position=s,this.callback=o,this.bytesRead=0,this.waiting=!1}read(e){De.debugLog("read",this.position,this.bytesRead,this.length,this.offset),this.waiting=!0;let t;if(e){let r=0;try{r=le.readSync(this.fd,this.buffer,this.offset+this.bytesRead,this.length-this.bytesRead,this.position+this.bytesRead)}catch(i){t=i}this.readCallback(e,t,t?r:null)}else le.read(this.fd,this.buffer,this.offset+this.bytesRead,this.length-this.bytesRead,this.position+this.bytesRead,this.readCallback.bind(this,e))}readCallback(e,t,r){if(typeof r=="number"&&(this.bytesRead+=r),t||!r||this.bytesRead===this.length)return this.waiting=!1,this.callback(t,this.bytesRead);this.read(e)}},Er=class{constructor(e){this.position=0,this.buffer=Buffer.alloc(0),this.fd=e,this.fsOp=null}checkOp(){if(this.fsOp&&this.fsOp.waiting)throw new Error("Operation in progress")}read(e,t,r){this.checkOp(),this.buffer.length<t&&(this.buffer=Buffer.alloc(t)),this.position=e,this.fsOp=new Re(this.fd,this.buffer,0,t,this.position,r).read()}expandLeft(e,t){this.checkOp(),this.buffer=Buffer.concat([Buffer.alloc(e),this.buffer]),this.position-=e,this.position<0&&(this.position=0),this.fsOp=new Re(this.fd,this.buffer,0,e,this.position,t).read()}expandRight(e,t){this.checkOp();let r=this.buffer.length;this.buffer=Buffer.concat([this.buffer,Buffer.alloc(e)]),this.fsOp=new Re(this.fd,this.buffer,r,e,this.position+r,t).read()}moveRight(e,t,r){this.checkOp(),r?this.buffer.copy(this.buffer,0,r):r=0,this.position+=r,this.fsOp=new Re(this.fd,this.buffer,this.buffer.length-r,r,this.position+this.buffer.length-r,t).read()}},Hn=class extends jl.Readable{constructor(e,t,r){super(),this.fd=e,this.offset=t,this.length=r,this.pos=0,this.readCallback=this.readCallback.bind(this)}_read(e){let t=Buffer.alloc(Math.min(e,this.length-this.pos));t.length?le.read(this.fd,t,0,t.length,this.offset+this.pos,this.readCallback):this.push(null)}readCallback(e,t,r){this.pos+=t,e?(this.emit("error",e),this.push(null)):t?(t!==r.length&&(r=r.slice(0,t)),this.push(r)):this.push(null)}},Zn=class extends jl.Transform{constructor(e,t,r){super(),this.verify=new wr(t,r),e.on("error",i=>{this.emit("error",i)})}_transform(e,t,r){let i;try{this.verify.data(e)}catch(s){i=s}r(i,e)}},wr=class n{constructor(e,t){this.crc=e,this.size=t,this.state={crc:-1,size:0}}data(e){let t=n.getCrcTable(),r=this.state.crc,i=0,s=e.length;for(;--s>=0;)r=t[(r^e[i++])&255]^r>>>8;if(this.state.crc=r,this.state.size+=e.length,this.state.size>=this.size){let o=Buffer.alloc(4);if(o.writeInt32LE(~this.state.crc&4294967295,0),r=o.readUInt32LE(0),r!==this.crc)throw new Error("Invalid CRC");if(this.state.size!==this.size)throw new Error("Invalid size")}}static getCrcTable(){let e=n.crcTable;if(!e){n.crcTable=e=[];let t=Buffer.alloc(4);for(let r=0;r<256;r++){let i=r;for(let s=8;--s>=0;)i&1?i=3988292384^i>>>1:i=i>>>1;i<0&&(t.writeInt32LE(i,0),i=t.readUInt32LE(0)),e[r]=i}}return e}};function Wl(n,e){let t=ql(n,16),r=ql(e,16),i={h:parseInt(t.slice(0,5).join(""),2),m:parseInt(t.slice(5,11).join(""),2),s:parseInt(t.slice(11,16).join(""),2)*2,Y:parseInt(r.slice(0,7).join(""),2)+1980,M:parseInt(r.slice(7,11).join(""),2),D:parseInt(r.slice(11,16).join(""),2)},s=[i.Y,i.M,i.D].join("-")+" "+[i.h,i.m,i.s].join(":")+" GMT+0";return new Date(s).getTime()}function ql(n,e){let t=(n>>>0).toString(2);for(;t.length<e;)t="0"+t;return t.split("")}function Ae(n,e){return n.readUInt32LE(e+4)*4294967296+n.readUInt32LE(e)}$l.exports=De});var hh={};sa(hh,{StreamZip:()=>Ql.async,WebSocket:()=>ko,ZipFile:()=>Jl.ZipFile,convertSourceMap:()=>ch,decode:()=>ii,diffSequence:()=>Kl.default,findUpSync:()=>wl,minimatch:()=>Z,parseCss:()=>Xl.default,supportsColor:()=>Yl});module.exports=oa(hh);var ch=j(ei());var ti="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ma=new Uint8Array(64),ni=new Uint8Array(128);for(let n=0;n<ti.length;n++){let e=ti.charCodeAt(n);ma[n]=e,ni[e]=n}function st(n,e){let t=0,r=0,i=0;do{let o=n.next();i=ni[o],t|=(i&31)<<r,r+=5}while(i&32);let s=t&1;return t>>>=1,s&&(t=-2147483648|-t),e+t}function ri(n,e){return n.pos>=e?!1:n.peek()!==44}var mh=1024*16;var vr=class{constructor(e){this.pos=0,this.buffer=e}next(){return this.buffer.charCodeAt(this.pos++)}peek(){return this.buffer.charCodeAt(this.pos)}indexOf(e){let{buffer:t,pos:r}=this,i=t.indexOf(e,r);return i===-1?t.length:i}};function ii(n){let{length:e}=n,t=new vr(n),r=[],i=0,s=0,o=0,a=0,l=0;do{let f=t.indexOf(";"),u=[],h=!0,c=0;for(i=0;t.pos<f;){let d;i=st(t,i),i<c&&(h=!1),c=i,ri(t,f)?(s=st(t,s),o=st(t,o),a=st(t,a),ri(t,f)?(l=st(t,l),d=[i,s,o,a,l]):d=[i,s,o,a]):d=[i],u.push(d),t.pos++}h||ga(u),r.push(u),t.pos=f+1}while(t.pos<=e);return r}function ga(n){n.sort(_a)}function _a(n,e){return n[0]-e[0]}var Xl=j(Rs());var Vu=j(Ps(),1),Hu=j(dn(),1),Zu=j(gn(),1),Uo=j(xn(),1),Yu=j(Fo(),1);var ko=Uo.default;var sl=j(Ko(),1);var Nt=n=>{if(typeof n!="string")throw new TypeError("invalid pattern");if(n.length>65536)throw new TypeError("pattern is too long")};var nc={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},Tt=n=>n.replace(/[[\]\\-]/g,"\\$&"),ic=n=>n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Jo=n=>n.join(""),Qo=(n,e)=>{let t=e;if(n.charAt(t)!=="[")throw new Error("not in a brace expression");let r=[],i=[],s=t+1,o=!1,a=!1,l=!1,f=!1,u=t,h="";e:for(;s<n.length;){let p=n.charAt(s);if((p==="!"||p==="^")&&s===t+1){f=!0,s++;continue}if(p==="]"&&o&&!l){u=s+1;break}if(o=!0,p==="\\"&&!l){l=!0,s++;continue}if(p==="["&&!l){for(let[_,[v,C,I]]of Object.entries(nc))if(n.startsWith(_,s)){if(h)return["$.",!1,n.length-t,!0];s+=_.length,I?i.push(v):r.push(v),a=a||C;continue e}}if(l=!1,h){p>h?r.push(Tt(h)+"-"+Tt(p)):p===h&&r.push(Tt(p)),h="",s++;continue}if(n.startsWith("-]",s+1)){r.push(Tt(p+"-")),s+=2;continue}if(n.startsWith("-",s+1)){h=p,s+=2;continue}r.push(Tt(p)),s++}if(u<s)return["",!1,0,!1];if(!r.length&&!i.length)return["$.",!1,n.length-t,!0];if(i.length===0&&r.length===1&&/^\\?.$/.test(r[0])&&!f){let p=r[0].length===2?r[0].slice(-1):r[0];return[ic(p),!1,u-t,!1]}let c="["+(f?"^":"")+Jo(r)+"]",d="["+(f?"":"^")+Jo(i)+"]";return[r.length&&i.length?"("+c+"|"+d+")":r.length?c:d,a,u-t,!0]};var Le=(n,{windowsPathsNoEscape:e=!1}={})=>e?n.replace(/\[([^\/\\])\]/g,"$1"):n.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1");var sc=new Set(["!","?","+","*","@"]),el=n=>sc.has(n),oc="(?!(?:^|/)\\.\\.?(?:$|/))",fr="(?!\\.)",lc=new Set(["[","."]),ac=new Set(["..","."]),fc=new Set("().*{}+?[]^$\\!"),uc=n=>n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),On="[^/]",tl=On+"*?",rl=On+"+?",et=class n{type;#r;#n;#s=!1;#e=[];#t;#o;#a;#l=!1;#i;#f;#c=!1;constructor(e,t,r={}){this.type=e,e&&(this.#n=!0),this.#t=t,this.#r=this.#t?this.#t.#r:this,this.#i=this.#r===this?r:this.#r.#i,this.#a=this.#r===this?[]:this.#r.#a,e==="!"&&!this.#r.#l&&this.#a.push(this),this.#o=this.#t?this.#t.#e.length:0}get hasMagic(){if(this.#n!==void 0)return this.#n;for(let e of this.#e)if(typeof e!="string"&&(e.type||e.hasMagic))return this.#n=!0;return this.#n}toString(){return this.#f!==void 0?this.#f:this.type?this.#f=this.type+"("+this.#e.map(e=>String(e)).join("|")+")":this.#f=this.#e.map(e=>String(e)).join("")}#d(){if(this!==this.#r)throw new Error("should only call on root");if(this.#l)return this;this.toString(),this.#l=!0;let e;for(;e=this.#a.pop();){if(e.type!=="!")continue;let t=e,r=t.#t;for(;r;){for(let i=t.#o+1;!r.type&&i<r.#e.length;i++)for(let s of e.#e){if(typeof s=="string")throw new Error("string part in extglob AST??");s.copyIn(r.#e[i])}t=r,r=t.#t}}return this}push(...e){for(let t of e)if(t!==""){if(typeof t!="string"&&!(t instanceof n&&t.#t===this))throw new Error("invalid part: "+t);this.#e.push(t)}}toJSON(){var t;let e=this.type===null?this.#e.slice().map(r=>typeof r=="string"?r:r.toJSON()):[this.type,...this.#e.map(r=>r.toJSON())];return this.isStart()&&!this.type&&e.unshift([]),this.isEnd()&&(this===this.#r||this.#r.#l&&((t=this.#t)==null?void 0:t.type)==="!")&&e.push({}),e}isStart(){var t;if(this.#r===this)return!0;if(!((t=this.#t)!=null&&t.isStart()))return!1;if(this.#o===0)return!0;let e=this.#t;for(let r=0;r<this.#o;r++){let i=e.#e[r];if(!(i instanceof n&&i.type==="!"))return!1}return!0}isEnd(){var t,r,i;if(this.#r===this||((t=this.#t)==null?void 0:t.type)==="!")return!0;if(!((r=this.#t)!=null&&r.isEnd()))return!1;if(!this.type)return(i=this.#t)==null?void 0:i.isEnd();let e=this.#t?this.#t.#e.length:0;return this.#o===e-1}copyIn(e){typeof e=="string"?this.push(e):this.push(e.clone(this))}clone(e){let t=new n(this.type,e);for(let r of this.#e)t.copyIn(r);return t}static#u(e,t,r,i){let s=!1,o=!1,a=-1,l=!1;if(t.type===null){let d=r,m="";for(;d<e.length;){let p=e.charAt(d++);if(s||p==="\\"){s=!s,m+=p;continue}if(o){d===a+1?(p==="^"||p==="!")&&(l=!0):p==="]"&&!(d===a+2&&l)&&(o=!1),m+=p;continue}else if(p==="["){o=!0,a=d,l=!1,m+=p;continue}if(!i.noext&&el(p)&&e.charAt(d)==="("){t.push(m),m="";let _=new n(p,t);d=n.#u(e,_,d,i),t.push(_);continue}m+=p}return t.push(m),d}let f=r+1,u=new n(null,t),h=[],c="";for(;f<e.length;){let d=e.charAt(f++);if(s||d==="\\"){s=!s,c+=d;continue}if(o){f===a+1?(d==="^"||d==="!")&&(l=!0):d==="]"&&!(f===a+2&&l)&&(o=!1),c+=d;continue}else if(d==="["){o=!0,a=f,l=!1,c+=d;continue}if(el(d)&&e.charAt(f)==="("){u.push(c),c="";let m=new n(d,u);u.push(m),f=n.#u(e,m,f,i);continue}if(d==="|"){u.push(c),c="",h.push(u),u=new n(null,t);continue}if(d===")")return c===""&&t.#e.length===0&&(t.#c=!0),u.push(c),c="",t.push(...h,u),f;c+=d}return t.type=null,t.#n=void 0,t.#e=[e.substring(r-1)],f}static fromGlob(e,t={}){let r=new n(null,void 0,t);return n.#u(e,r,0,t),r}toMMPattern(){if(this!==this.#r)return this.#r.toMMPattern();let e=this.toString(),[t,r,i,s]=this.toRegExpSource();if(!(i||this.#n||this.#i.nocase&&!this.#i.nocaseMagicOnly&&e.toUpperCase()!==e.toLowerCase()))return r;let a=(this.#i.nocase?"i":"")+(s?"u":"");return Object.assign(new RegExp(`^${t}$`,a),{_src:t,_glob:e})}get options(){return this.#i}toRegExpSource(e){var l;let t=e??!!this.#i.dot;if(this.#r===this&&this.#d(),!this.type){let f=this.isStart()&&this.isEnd(),u=this.#e.map(m=>{let[p,_,v,C]=typeof m=="string"?n.#p(m,this.#n,f):m.toRegExpSource(e);return this.#n=this.#n||v,this.#s=this.#s||C,p}).join(""),h="";if(this.isStart()&&typeof this.#e[0]=="string"&&!(this.#e.length===1&&ac.has(this.#e[0]))){let p=lc,_=t&&p.has(u.charAt(0))||u.startsWith("\\.")&&p.has(u.charAt(2))||u.startsWith("\\.\\.")&&p.has(u.charAt(4)),v=!t&&!e&&p.has(u.charAt(0));h=_?oc:v?fr:""}let c="";return this.isEnd()&&this.#r.#l&&((l=this.#t)==null?void 0:l.type)==="!"&&(c="(?:$|\\/)"),[h+u+c,Le(u),this.#n=!!this.#n,this.#s]}let r=this.type==="*"||this.type==="+",i=this.type==="!"?"(?:(?!(?:":"(?:",s=this.#h(t);if(this.isStart()&&this.isEnd()&&!s&&this.type!=="!"){let f=this.toString();return this.#e=[f],this.type=null,this.#n=void 0,[f,Le(this.toString()),!1,!1]}let o=!r||e||t||!fr?"":this.#h(!0);o===s&&(o=""),o&&(s=`(?:${s})(?:${o})*?`);let a="";if(this.type==="!"&&this.#c)a=(this.isStart()&&!t?fr:"")+rl;else{let f=this.type==="!"?"))"+(this.isStart()&&!t&&!e?fr:"")+tl+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&o?")":this.type==="*"&&o?")?":`)${this.type}`;a=i+s+f}return[a,Le(s),this.#n=!!this.#n,this.#s]}#h(e){return this.#e.map(t=>{if(typeof t=="string")throw new Error("string type in extglob ast??");let[r,i,s,o]=t.toRegExpSource(e);return this.#s=this.#s||o,r}).filter(t=>!(this.isStart()&&this.isEnd())||!!t).join("|")}static#p(e,t,r=!1){let i=!1,s="",o=!1;for(let a=0;a<e.length;a++){let l=e.charAt(a);if(i){i=!1,s+=(fc.has(l)?"\\":"")+l;continue}if(l==="\\"){a===e.length-1?s+="\\\\":i=!0;continue}if(l==="["){let[f,u,h,c]=Qo(e,a);if(h){s+=f,o=o||u,a+=h-1,t=t||c;continue}}if(l==="*"){r&&e==="*"?s+=rl:s+=tl,t=!0;continue}if(l==="?"){s+=On,t=!0;continue}s+=uc(l)}return[s,Le(e),!!t,o]}};var In=(n,{windowsPathsNoEscape:e=!1}={})=>e?n.replace(/[?*()[\]]/g,"[$&]"):n.replace(/[?*()[\]\\]/g,"\\$&");var Z=(n,e,t={})=>(Nt(e),!t.nocomment&&e.charAt(0)==="#"?!1:new tt(e,t).match(n)),cc=/^\*+([^+@!?\*\[\(]*)$/,hc=n=>e=>!e.startsWith(".")&&e.endsWith(n),dc=n=>e=>e.endsWith(n),pc=n=>(n=n.toLowerCase(),e=>!e.startsWith(".")&&e.toLowerCase().endsWith(n)),mc=n=>(n=n.toLowerCase(),e=>e.toLowerCase().endsWith(n)),gc=/^\*+\.\*+$/,_c=n=>!n.startsWith(".")&&n.includes("."),Ec=n=>n!=="."&&n!==".."&&n.includes("."),wc=/^\.\*+$/,yc=n=>n!=="."&&n!==".."&&n.startsWith("."),Sc=/^\*+$/,vc=n=>n.length!==0&&!n.startsWith("."),xc=n=>n.length!==0&&n!=="."&&n!=="..",Cc=/^\?+([^+@!?\*\[\(]*)?$/,bc=([n,e=""])=>{let t=ol([n]);return e?(e=e.toLowerCase(),r=>t(r)&&r.toLowerCase().endsWith(e)):t},Lc=([n,e=""])=>{let t=ll([n]);return e?(e=e.toLowerCase(),r=>t(r)&&r.toLowerCase().endsWith(e)):t},Oc=([n,e=""])=>{let t=ll([n]);return e?r=>t(r)&&r.endsWith(e):t},Ic=([n,e=""])=>{let t=ol([n]);return e?r=>t(r)&&r.endsWith(e):t},ol=([n])=>{let e=n.length;return t=>t.length===e&&!t.startsWith(".")},ll=([n])=>{let e=n.length;return t=>t.length===e&&t!=="."&&t!==".."},al=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",nl={win32:{sep:"\\"},posix:{sep:"/"}},Nc=al==="win32"?nl.win32.sep:nl.posix.sep;Z.sep=Nc;var oe=Symbol("globstar **");Z.GLOBSTAR=oe;var Tc="[^/]",Rc=Tc+"*?",Ac="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Dc="(?:(?!(?:\\/|^)\\.).)*?",Mc=(n,e={})=>t=>Z(t,n,e);Z.filter=Mc;var se=(n,e={})=>Object.assign({},n,e),Pc=n=>{if(!n||typeof n!="object"||!Object.keys(n).length)return Z;let e=Z;return Object.assign((r,i,s={})=>e(r,i,se(n,s)),{Minimatch:class extends e.Minimatch{constructor(i,s={}){super(i,se(n,s))}static defaults(i){return e.defaults(se(n,i)).Minimatch}},AST:class extends e.AST{constructor(i,s,o={}){super(i,s,se(n,o))}static fromGlob(i,s={}){return e.AST.fromGlob(i,se(n,s))}},unescape:(r,i={})=>e.unescape(r,se(n,i)),escape:(r,i={})=>e.escape(r,se(n,i)),filter:(r,i={})=>e.filter(r,se(n,i)),defaults:r=>e.defaults(se(n,r)),makeRe:(r,i={})=>e.makeRe(r,se(n,i)),braceExpand:(r,i={})=>e.braceExpand(r,se(n,i)),match:(r,i,s={})=>e.match(r,i,se(n,s)),sep:e.sep,GLOBSTAR:oe})};Z.defaults=Pc;var fl=(n,e={})=>(Nt(n),e.nobrace||!/\{(?:(?!\{).)*\}/.test(n)?[n]:(0,sl.default)(n));Z.braceExpand=fl;var Fc=(n,e={})=>new tt(n,e).makeRe();Z.makeRe=Fc;var Uc=(n,e,t={})=>{let r=new tt(e,t);return n=n.filter(i=>r.match(i)),r.options.nonull&&!n.length&&n.push(e),n};Z.match=Uc;var il=/[?*]|[+@!]\(.*?\)|\[|\]/,kc=n=>n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),tt=class{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(e,t={}){Nt(e),t=t||{},this.options=t,this.pattern=e,this.platform=t.platform||al,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!t.windowsPathsNoEscape||t.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!t.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!t.nonegate,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=t.windowsNoMagicRoot!==void 0?t.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let e of this.set)for(let t of e)if(typeof t!="string")return!0;return!1}debug(...e){}make(){let e=this.pattern,t=this.options;if(!t.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],t.debug&&(this.debug=(...s)=>console.error(...s)),this.debug(this.pattern,this.globSet);let r=this.globSet.map(s=>this.slashSplit(s));this.globParts=this.preprocess(r),this.debug(this.pattern,this.globParts);let i=this.globParts.map((s,o,a)=>{if(this.isWindows&&this.windowsNoMagicRoot){let l=s[0]===""&&s[1]===""&&(s[2]==="?"||!il.test(s[2]))&&!il.test(s[3]),f=/^[a-z]:/i.test(s[0]);if(l)return[...s.slice(0,4),...s.slice(4).map(u=>this.parse(u))];if(f)return[s[0],...s.slice(1).map(u=>this.parse(u))]}return s.map(l=>this.parse(l))});if(this.debug(this.pattern,i),this.set=i.filter(s=>s.indexOf(!1)===-1),this.isWindows)for(let s=0;s<this.set.length;s++){let o=this.set[s];o[0]===""&&o[1]===""&&this.globParts[s][2]==="?"&&typeof o[3]=="string"&&/^[a-z]:$/i.test(o[3])&&(o[2]="?")}this.debug(this.pattern,this.set)}preprocess(e){if(this.options.noglobstar)for(let r=0;r<e.length;r++)for(let i=0;i<e[r].length;i++)e[r][i]==="**"&&(e[r][i]="*");let{optimizationLevel:t=1}=this.options;return t>=2?(e=this.firstPhasePreProcess(e),e=this.secondPhasePreProcess(e)):t>=1?e=this.levelOneOptimize(e):e=this.adjascentGlobstarOptimize(e),e}adjascentGlobstarOptimize(e){return e.map(t=>{let r=-1;for(;(r=t.indexOf("**",r+1))!==-1;){let i=r;for(;t[i+1]==="**";)i++;i!==r&&t.splice(r,i-r)}return t})}levelOneOptimize(e){return e.map(t=>(t=t.reduce((r,i)=>{let s=r[r.length-1];return i==="**"&&s==="**"?r:i===".."&&s&&s!==".."&&s!=="."&&s!=="**"?(r.pop(),r):(r.push(i),r)},[]),t.length===0?[""]:t))}levelTwoFileOptimize(e){Array.isArray(e)||(e=this.slashSplit(e));let t=!1;do{if(t=!1,!this.preserveMultipleSlashes){for(let i=1;i<e.length-1;i++){let s=e[i];i===1&&s===""&&e[0]===""||(s==="."||s==="")&&(t=!0,e.splice(i,1),i--)}e[0]==="."&&e.length===2&&(e[1]==="."||e[1]==="")&&(t=!0,e.pop())}let r=0;for(;(r=e.indexOf("..",r+1))!==-1;){let i=e[r-1];i&&i!=="."&&i!==".."&&i!=="**"&&(t=!0,e.splice(r-1,2),r-=2)}}while(t);return e.length===0?[""]:e}firstPhasePreProcess(e){let t=!1;do{t=!1;for(let r of e){let i=-1;for(;(i=r.indexOf("**",i+1))!==-1;){let o=i;for(;r[o+1]==="**";)o++;o>i&&r.splice(i+1,o-i);let a=r[i+1],l=r[i+2],f=r[i+3];if(a!==".."||!l||l==="."||l===".."||!f||f==="."||f==="..")continue;t=!0,r.splice(i,1);let u=r.slice(0);u[i]="**",e.push(u),i--}if(!this.preserveMultipleSlashes){for(let o=1;o<r.length-1;o++){let a=r[o];o===1&&a===""&&r[0]===""||(a==="."||a==="")&&(t=!0,r.splice(o,1),o--)}r[0]==="."&&r.length===2&&(r[1]==="."||r[1]==="")&&(t=!0,r.pop())}let s=0;for(;(s=r.indexOf("..",s+1))!==-1;){let o=r[s-1];if(o&&o!=="."&&o!==".."&&o!=="**"){t=!0;let l=s===1&&r[s+1]==="**"?["."]:[];r.splice(s-1,2,...l),r.length===0&&r.push(""),s-=2}}}}while(t);return e}secondPhasePreProcess(e){for(let t=0;t<e.length-1;t++)for(let r=t+1;r<e.length;r++){let i=this.partsMatch(e[t],e[r],!this.preserveMultipleSlashes);if(i){e[t]=[],e[r]=i;break}}return e.filter(t=>t.length)}partsMatch(e,t,r=!1){let i=0,s=0,o=[],a="";for(;i<e.length&&s<t.length;)if(e[i]===t[s])o.push(a==="b"?t[s]:e[i]),i++,s++;else if(r&&e[i]==="**"&&t[s]===e[i+1])o.push(e[i]),i++;else if(r&&t[s]==="**"&&e[i]===t[s+1])o.push(t[s]),s++;else if(e[i]==="*"&&t[s]&&(this.options.dot||!t[s].startsWith("."))&&t[s]!=="**"){if(a==="b")return!1;a="a",o.push(e[i]),i++,s++}else if(t[s]==="*"&&e[i]&&(this.options.dot||!e[i].startsWith("."))&&e[i]!=="**"){if(a==="a")return!1;a="b",o.push(t[s]),i++,s++}else return!1;return e.length===t.length&&o}parseNegate(){if(this.nonegate)return;let e=this.pattern,t=!1,r=0;for(let i=0;i<e.length&&e.charAt(i)==="!";i++)t=!t,r++;r&&(this.pattern=e.slice(r)),this.negate=t}matchOne(e,t,r=!1){let i=this.options;if(this.isWindows){let p=typeof e[0]=="string"&&/^[a-z]:$/i.test(e[0]),_=!p&&e[0]===""&&e[1]===""&&e[2]==="?"&&/^[a-z]:$/i.test(e[3]),v=typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]),C=!v&&t[0]===""&&t[1]===""&&t[2]==="?"&&typeof t[3]=="string"&&/^[a-z]:$/i.test(t[3]),I=_?3:p?0:void 0,L=C?3:v?0:void 0;if(typeof I=="number"&&typeof L=="number"){let[R,O]=[e[I],t[L]];R.toLowerCase()===O.toLowerCase()&&(t[L]=R,L>I?t=t.slice(L):I>L&&(e=e.slice(I)))}}let{optimizationLevel:s=1}=this.options;s>=2&&(e=this.levelTwoFileOptimize(e)),this.debug("matchOne",this,{file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var o=0,a=0,l=e.length,f=t.length;o<l&&a<f;o++,a++){this.debug("matchOne loop");var u=t[a],h=e[o];if(this.debug(t,u,h),u===!1)return!1;if(u===oe){this.debug("GLOBSTAR",[t,u,h]);var c=o,d=a+1;if(d===f){for(this.debug("** at the end");o<l;o++)if(e[o]==="."||e[o]===".."||!i.dot&&e[o].charAt(0)===".")return!1;return!0}for(;c<l;){var m=e[c];if(this.debug(`
globstar while`,e,c,t,d,m),this.matchOne(e.slice(c),t.slice(d),r))return this.debug("globstar found match!",c,l,m),!0;if(m==="."||m===".."||!i.dot&&m.charAt(0)==="."){this.debug("dot detected!",e,c,t,d);break}this.debug("globstar swallow a segment, and continue"),c++}return!!(r&&(this.debug(`
>>> no match, partial?`,e,c,t,d),c===l))}let p;if(typeof u=="string"?(p=h===u,this.debug("string match",u,h,p)):(p=u.test(h),this.debug("pattern match",u,h,p)),!p)return!1}if(o===l&&a===f)return!0;if(o===l)return r;if(a===f)return o===l-1&&e[o]==="";throw new Error("wtf?")}braceExpand(){return fl(this.pattern,this.options)}parse(e){Nt(e);let t=this.options;if(e==="**")return oe;if(e==="")return"";let r,i=null;(r=e.match(Sc))?i=t.dot?xc:vc:(r=e.match(cc))?i=(t.nocase?t.dot?mc:pc:t.dot?dc:hc)(r[1]):(r=e.match(Cc))?i=(t.nocase?t.dot?Lc:bc:t.dot?Oc:Ic)(r):(r=e.match(gc))?i=t.dot?Ec:_c:(r=e.match(wc))&&(i=yc);let s=et.fromGlob(e,this.options).toMMPattern();return i&&typeof s=="object"&&Reflect.defineProperty(s,"test",{value:i}),s}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let e=this.set;if(!e.length)return this.regexp=!1,this.regexp;let t=this.options,r=t.noglobstar?Rc:t.dot?Ac:Dc,i=new Set(t.nocase?["i"]:[]),s=e.map(l=>{let f=l.map(u=>{if(u instanceof RegExp)for(let h of u.flags.split(""))i.add(h);return typeof u=="string"?kc(u):u===oe?oe:u._src});return f.forEach((u,h)=>{let c=f[h+1],d=f[h-1];u!==oe||d===oe||(d===void 0?c!==void 0&&c!==oe?f[h+1]="(?:\\/|"+r+"\\/)?"+c:f[h]=r:c===void 0?f[h-1]=d+"(?:\\/|"+r+")?":c!==oe&&(f[h-1]=d+"(?:\\/|\\/"+r+"\\/)"+c,f[h+1]=oe))}),f.filter(u=>u!==oe).join("/")}).join("|"),[o,a]=e.length>1?["(?:",")"]:["",""];s="^"+o+s+a+"$",this.negate&&(s="^(?!"+s+").+$");try{this.regexp=new RegExp(s,[...i].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(e){return this.preserveMultipleSlashes?e.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(e)?["",...e.split(/\/+/)]:e.split(/\/+/)}match(e,t=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&t)return!0;let r=this.options;this.isWindows&&(e=e.split("\\").join("/"));let i=this.slashSplit(e);this.debug(this.pattern,"split",i);let s=this.set;this.debug(this.pattern,"set",s);let o=i[i.length-1];if(!o)for(let a=i.length-2;!o&&a>=0;a--)o=i[a];for(let a=0;a<s.length;a++){let l=s[a],f=i;if(r.matchBase&&l.length===1&&(f=[o]),this.matchOne(f,l,t))return r.flipNegate?!0:!this.negate}return r.flipNegate?!1:this.negate}static defaults(e){return Z.defaults(e).Minimatch}};Z.AST=et;Z.Minimatch=tt;Z.escape=In;Z.unescape=Le;var Kl=j(dl());var rt=j(require("node:path"),1);var pl=j(require("node:process"),1),ml=j(require("node:path"),1),ur=j(require("node:fs"),1),gl=require("node:url");var _l={directory:"isDirectory",file:"isFile"};function qc(n){if(!Object.hasOwnProperty.call(_l,n))throw new Error(`Invalid type specified: ${n}`)}var jc=(n,e)=>e[_l[n]](),$c=n=>n instanceof URL?(0,gl.fileURLToPath)(n):n;function An(n,{cwd:e=pl.default.cwd(),type:t="file",allowSymlinks:r=!0}={}){qc(t),e=$c(e);let i=r?ur.default.statSync:ur.default.lstatSync;for(let s of n)try{let o=i(ml.default.resolve(e,s),{throwIfNoEntry:!1});if(!o)continue;if(jc(t,o))return s}catch{}}var El=require("node:url");function Dn(n){return n instanceof URL?(0,El.fileURLToPath)(n):n}var Vc=Symbol("findUpStop");function Hc(n,e={}){let t=rt.default.resolve(Dn(e.cwd)??""),{root:r}=rt.default.parse(t),i=rt.default.resolve(t,Dn(e.stopAt)??r),s=e.limit??Number.POSITIVE_INFINITY,o=[n].flat(),a=f=>{if(typeof n!="function")return An(o,f);let u=n(f.cwd);return typeof u=="string"?An([u],f):u},l=[];for(;;){let f=a({...e,cwd:t});if(f===Vc||(f&&l.push(rt.default.resolve(t,f)),t===i||l.length>=s))break;t=rt.default.dirname(t)}return l}function wl(n,e={}){return Hc(n,{...e,limit:1})[0]}var Jl=j(zl()),Ql=j(Vl());var Sr=j(require("node:process"),1),Zl=j(require("node:os"),1),Xn=j(require("node:tty"),1);function ae(n,e=globalThis.Deno?globalThis.Deno.args:Sr.default.argv){let t=n.startsWith("-")?"":n.length===1?"-":"--",r=e.indexOf(t+n),i=e.indexOf("--");return r!==-1&&(i===-1||r<i)}var{env:B}=Sr.default,yr;ae("no-color")||ae("no-colors")||ae("color=false")||ae("color=never")?yr=0:(ae("color")||ae("colors")||ae("color=true")||ae("color=always"))&&(yr=1);function lh(){if("FORCE_COLOR"in B)return B.FORCE_COLOR==="true"?1:B.FORCE_COLOR==="false"?0:B.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(B.FORCE_COLOR,10),3)}function ah(n){return n===0?!1:{level:n,hasBasic:!0,has256:n>=2,has16m:n>=3}}function fh(n,{streamIsTTY:e,sniffFlags:t=!0}={}){let r=lh();r!==void 0&&(yr=r);let i=t?yr:r;if(i===0)return 0;if(t){if(ae("color=16m")||ae("color=full")||ae("color=truecolor"))return 3;if(ae("color=256"))return 2}if("TF_BUILD"in B&&"AGENT_NAME"in B)return 1;if(n&&!e&&i===void 0)return 0;let s=i||0;if(B.TERM==="dumb")return s;if(Sr.default.platform==="win32"){let o=Zl.default.release().split(".");return Number(o[0])>=10&&Number(o[2])>=10586?Number(o[2])>=14931?3:2:1}if("CI"in B)return"GITHUB_ACTIONS"in B||"GITEA_ACTIONS"in B?3:["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","BUILDKITE","DRONE"].some(o=>o in B)||B.CI_NAME==="codeship"?1:s;if("TEAMCITY_VERSION"in B)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(B.TEAMCITY_VERSION)?1:0;if(B.COLORTERM==="truecolor"||B.TERM==="xterm-kitty")return 3;if("TERM_PROGRAM"in B){let o=Number.parseInt((B.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(B.TERM_PROGRAM){case"iTerm.app":return o>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(B.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(B.TERM)||"COLORTERM"in B?1:s}function Hl(n,e={}){let t=fh(n,{streamIsTTY:n&&n.isTTY,...e});return ah(t)}var uh={stdout:Hl({isTTY:Xn.default.isatty(1)}),stderr:Hl({isTTY:Xn.default.isatty(2)})},Yl=uh;0&&(module.exports={StreamZip,WebSocket,ZipFile,convertSourceMap,decode,diffSequence,findUpSync,minimatch,parseCss,supportsColor});
